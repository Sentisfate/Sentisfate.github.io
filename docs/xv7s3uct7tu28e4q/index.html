<!DOCTYPE html>
<html><head>
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer" />
   
  <meta name="author" content="gisculibur">
  

   
  
  
  
  
  
  
  <meta name="keywords"
    content="theme,kagome">
  

  

  <meta name="generator" content="Hugo 0.115.2">


  
  
  
  
  <title>GLSLä¸ç€è‰²å™¨ ğŸŒŸ GISå’–å–±æ£’</title>

  <meta property="og:title" content="GLSLä¸ç€è‰²å™¨" />
<meta property="og:description" content="GLSLè§„èŒƒï¼šhttps://www.khronos.org/files/opengles_shading_language.pdfwebg" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Sentisfate.github.io/docs/xv7s3uct7tu28e4q/" /><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2023-06-26T09:41:07+00:00" />
<meta property="article:modified_time" content="2023-07-17T02:43:59+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="GLSLä¸ç€è‰²å™¨"/>
<meta name="twitter:description" content="GLSLè§„èŒƒï¼šhttps://www.khronos.org/files/opengles_shading_language.pdfwebg"/>


  
  
  
  
  <link rel="stylesheet" href="https://Sentisfate.github.io/assets/css/style.min.a9eba8a87a1f5444669cfe92317af83504187100f2529f484b2eeaff89777b86.css" integrity="sha256-qeuoqHofVERmnP6SMXr4NQQYcQDyUp9ISy7q/4l3e4Y=">

  <script src="https://Sentisfate.github.io/assets/js/main.min.182da266209851bc7c828aa7377f98f914e1e76c8decdd53a6cbe9bffea92cde.js" integrity="sha256-GC2iZiCYUbx8goqnN3&#43;Y&#43;RTh52yN7N1Tpsvpv/6pLN4="></script>

  </head><body><header class="header-container layout-block layout-padding">
  <div class="header-inner content-padding-large soft-size--large soft-style--box">
    <div class="header-logo">
      <a href="https://Sentisfate.github.io"><h1>GISå’–å–±æ£’</h1></a>
    </div>
    <nav class="header-nav">
      <div class="header-nav--btn">
        <div class="btn-item"></div>
        <div class="btn-item"></div>
        <div class="btn-item"></div>
      </div>
      <div class="header-nav--list">
        <div>
          
          <a class="list-item soft-size--small soft-style--hover soft-style--active" href="/" title="GISå’–å–±æ£’">ä¸»é¡µ</a>
          
          <a class="list-item soft-size--small soft-style--hover soft-style--active" href="/docs/" title="Docs">ç¬”è®°</a>
          
          <a class="list-item soft-size--small soft-style--hover soft-style--active" href="/categories/" title="Categories">åˆ†ç±»</a>
          
          <a class="list-item soft-size--small soft-style--hover soft-style--active" href="/tags/" title="Tags">æ ‡ç­¾</a>
          
        </div>
      </div>
    </nav>
  </div>
</header><main id="content">
    

    <div class="single-container layout-block">
      <div class="article-info">
        <div class="article-header layout-padding">
          <div class="article-cover card-container content-padding-large soft-size--large soft-style--box img">

  <div class="card-cover">
    
      <img src="https://cdn.nlark.com/yuque/__latex/cc37f6813226cac2c048fcda5364509a.svg" alt="https://cdn.nlark.com/yuque/__latex/cc37f6813226cac2c048fcda5364509a.svg" />
    
  </div>

  <div class="card-text">
    <h1 class="card-text--title">GLSLä¸ç€è‰²å™¨</h1>
    
      <p class="card-text--row">2023-06-26 09:41</p>
      
      
      

      
      
    
  </div>

</div>
        </div>

        <div class="article-content">
          <div class="markdown-body content-padding-large soft-size--large soft-style--box">
            <p>GLSLè§„èŒƒï¼š<!-- raw HTML omitted --><a href="https://www.khronos.org/files/opengles_shading_language.pdf" target="_blank" rel="noopener">https://www.khronos.org/files/opengles_shading_language.pdf</a><!-- raw HTML omitted -->webgl å¼•ç”¨è¡¨ï¼š<!-- raw HTML omitted --><a href="https://www.khronos.org/files/webgl/webgl-reference-card-1_0.pdf" target="_blank" rel="noopener">https://www.khronos.org/files/webgl/webgl-reference-card-1_0.pdf</a>
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="glslå˜é‡">GLSLå˜é‡</h1>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="è¯­æ³•åŸºç¡€">è¯­æ³•åŸºç¡€</h2>
<ul>
<li>å¤§å°å†™æ•æ„Ÿ</li>
<li>è¯­å¥å¿…é¡»ä»¥<code>;</code>ç»“å°¾ï¼Œå’ŒCä¸€æ ·</li>
<li>æ¯ä¸ªç€è‰²ç¨‹åºéƒ½å¾—æœ‰ä¸€ä¸ªmainå‡½æ•°ï¼Œç±»ä¼¼Cï¼Œä½†GLSLçš„mainå‡½æ•°ä¸æ¥å—ä»»ä½•å‚æ•°</li>
<li>æ³¨é‡Š<code>//``/***/</code></li>
<li>glsl æ”¯æŒä¸¤ç§</li>
<li>å˜é‡å‘½åè§„åˆ™ï¼Œä¸Cä¸€è‡´ï¼Œä½†ä¸èƒ½ä»¥<code>gl_</code>ã€<code>webgl_</code>ã€<code>_webgl</code>å¼€å¤´
<!-- raw HTML omitted --><!-- raw HTML omitted --></li>
</ul>
<h2 id="åŸºæœ¬ç±»å‹">åŸºæœ¬ç±»å‹</h2>
<p>ä¸å­˜åœ¨éšå¼è½¬æ¢ï¼Œåªèƒ½å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p>
<table>
<thead>
<tr>
<th>æ•°æ®ç±»å‹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ ‡é‡</td>
<td></td>
</tr>
<tr>
<td>void</td>
<td>ç©ºç±»å‹ï¼Œç”¨äºå‡½æ•°è¡¨ç¤ºæ— è¿”å›å€¼</td>
</tr>
<tr>
<td>bool</td>
<td>true or false</td>
</tr>
<tr>
<td>int</td>
<td>æ•´å‹ï¼Œè‡³å°‘åŒ…å«16ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œåè¿›åˆ¶ï¼Œåå…­è¿›åˆ¶ï¼Œå…«è¿›åˆ¶</td>
</tr>
<tr>
<td>float</td>
<td>æµ®ç‚¹</td>
</tr>
<tr>
<td>uint</td>
<td>æ— ç¬¦å·æ•´å‹</td>
</tr>
<tr>
<td>double</td>
<td>åŒç²¾åº¦æµ®ç‚¹</td>
</tr>
<tr>
<td>å‘é‡</td>
<td></td>
</tr>
<tr>
<td>vec</td>
<td>ç”¨äºè¡¨ç¤ºå‘é‡çš„åç¼€ï¼Œvec2,vec3,vec4è¡¨ç¤ºæœ‰å‡ ä¸ªåˆ†é‡ï¼Œè¡¨ç¤ºæµ®ç‚¹ç±»å‹çš„å‘é‡</td>
</tr>
<tr>
<td>bvec2,bvec3,bvec4</td>
<td>boolå‹å‘é‡</td>
</tr>
<tr>
<td>ivec2,ivec3,ivec4</td>
<td>intå‹å‘é‡</td>
</tr>
<tr>
<td>çŸ©é˜µ</td>
<td></td>
</tr>
<tr>
<td>mat</td>
<td>è¡¨ç¤ºçŸ©é˜µï¼Œåå¯æ¥<code>2x3</code>è¿™ç±»æ•°å­—è¡¨ç¤ºçŸ©é˜µåˆ—æ•°ï¼Œè¡Œæ•°ï¼Œå¦‚<code>mat2x3</code>è¡¨ç¤º3*2é˜¶çŸ©é˜µ,è¡Œåˆ—æ•°æœ€é«˜ä¸º4ï¼Œæœ€å°ä¸º2ï¼Œæ–¹é˜¶çŸ©é˜µå¯ä»¥ç®€åŒ–ä¸º1ä¸ªæ•°å­—</td>
</tr>
<tr>
<td>mat2,mat3,mat4</td>
<td>æµ®ç‚¹ç±»å‹æ–¹é˜¶çŸ©é˜µ</td>
</tr>
<tr>
<td>mat2x3,mat2x4,mat3x2,mat3x4,mat4x2,mat4x3</td>
<td>æ³¨æ„openGL åˆ—ä¸ºä¸»é¡ºåº</td>
</tr>
<tr>
<td>sampler1D</td>
<td>ç”¨äºè®¿é—®çº¹ç†çš„ç±»å‹ï¼Œè¢«ç§°ä¸ºå–æ ·å™¨ã€‚åªå¯ä»¥ä½œä¸ºå…¨å±€å˜é‡æˆ–è€…å‡½æ•°å‚æ•°ä½¿ç”¨</td>
</tr>
<tr>
<td>sampler2D</td>
<td>äºŒç»´çº¹ç†</td>
</tr>
<tr>
<td>sampler3D</td>
<td>ä¸‰ç»´çº¹ç†</td>
</tr>
<tr>
<td>samplerCube</td>
<td>cube map çº¹ç†</td>
</tr>
<tr>
<td>sampler1DShadow</td>
<td>ä¸€ç»´æ·±åº¦çº¹ç†</td>
</tr>
<tr>
<td>sampler2DShadow</td>
<td>äºŒç»´æ·±åº¦çº¹ç†</td>
</tr>
</tbody>
</table>
<p>å¯¹äºæ‰€æœ‰çš„å‘é‡ï¼Œéƒ½å¯ä»¥ç”¨<code>x,y,z,w``r,g,b,a``s,t,p,q</code>æ¥è·å–1-4ä¸ªåˆ†é‡ï¼Œä½†ï¿½ï¿½å»ºè®®ä½¿ç”¨å¯¹åº”åœºæ™¯çš„åˆ†é‡åã€‚</p>
<ul>
<li>é¡¶ç‚¹åæ ‡å‘é‡ <code>x,y,z,w</code></li>
<li>é¢œè‰²å‘é‡ <code>r,g,b,a</code></li>
<li>çº¹ç†åæ ‡å‘é‡ <code>s,t,p,q</code></li>
</ul>
<p>åˆ†é‡å¯ä»¥è¿›è¡Œç»„åˆï¼Œå¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-glsl" data-lang="glsl"><span style="display:flex;"><span><span style="color:#66d9ef">vec4</span> v4 <span style="color:#f92672">=</span> <span style="color:#66d9ef">vec4</span>(<span style="color:#ae81ff">0.0</span>, <span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">0.5</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">vec2</span> v2 <span style="color:#f92672">=</span> v4.xy;<span style="color:#75715e">//0.,1.</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">vec3</span> v3 <span style="color:#f92672">=</span> v4.yzw;<span style="color:#75715e">//1.,1.,0.5</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//ç”šè‡³æ˜¯è¿™æ ·</span>
</span></span><span style="display:flex;"><span>v4.yyyy;
</span></span></code></pre></div><p>å¯¹äºçŸ©é˜µç±»å‹ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªæˆ–å¤šä¸ªçŸ¢é‡æˆ–è€…çŸ¢é‡å’Œæµ®ç‚¹ç»„åˆæ¥è¿›è¡Œæ„é€ ï¼ŒæŒ‰åˆ—ä¸»åºï¼Œå°†çŸ¢é‡é‡Œçš„å…ƒç´ ä½œä¸ºçŸ©é˜µçš„å…ƒç´ ã€‚è®¿é—®çŸ©é˜µå…ƒç´ é€šè¿‡ç´¢å¼•è®¿é—®ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-glsl" data-lang="glsl"><span style="display:flex;"><span><span style="color:#66d9ef">vec2</span> v2_1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">vec2</span>(<span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">3.0</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">vec2</span> v2_2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">vec2</span>(<span style="color:#ae81ff">2.0</span>, <span style="color:#ae81ff">4.0</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">mat2</span> m2_1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">mat2</span>(v2_1, v2_2);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// â”Œ1.0 2.0â”</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// â””3.0 4.0â”˜</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">vec2</span> v2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">vec2</span>(<span style="color:#ae81ff">2.0</span>, <span style="color:#ae81ff">4.0</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">mat2</span> m2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">mat2</span>(<span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">3.0</span>, v2);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å•ä½çŸ©é˜µ</span>
</span></span><span style="display:flex;"><span>mat3 m3 <span style="color:#f92672">=</span> mat3(<span style="color:#ae81ff">1.0</span>);
</span></span></code></pre></div><p>æ•°ç»„ç±»å‹ï¼Œå¯ä»¥åŒ…å«ä»»æ„åŸºç¡€ç±»å‹ï¼Œå‘é‡ï¼ŒçŸ©é˜µ<code>type arrName[arrSize]</code><!-- raw HTML omitted -->ç»“æ„ä½“ç±»å‹ï¼ŒåŒ…å«ä»»æ„åŸºç¡€ç±»å‹ï¼Œå‘é‡ï¼ŒçŸ©é˜µï¼Œæ•°ç»„ï¼Œç»“æ„ä½“ï¼Œæ³¨æ„ç»“æ„ä½“åµŒå¥—æ—¶åªèƒ½ä½¿ç”¨å·²ç»å£°æ˜çš„ç»“æ„ä½“ã€‚
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="è¿ç®—è§„åˆ™">è¿ç®—è§„åˆ™</h2>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="åŸºç¡€ç±»å‹é—´çš„è¿ç®—">åŸºç¡€ç±»å‹é—´çš„è¿ç®—</h3>
<p>è¦æ±‚ï¼š</p>
<ul>
<li>ç±»å‹ä¸€è‡´</li>
</ul>
<p>glslï¼Œæ²¡æœ‰éšå¼ç±»å‹è½¬æ¢ï¼Œå˜é‡ç±»å‹ä¸ä¸€è‡´ï¼Œå°±ä¼šæŠ¥é”™ã€‚å¦‚floatä¸intä¹‹é—´ä¸èƒ½è¿ç®—ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-glsl" data-lang="glsl"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a<span style="color:#f92672">=</span><span style="color:#66d9ef">int</span>(<span style="color:#ae81ff">2.0</span>);<span style="color:#75715e">//æ˜¾ç¤ºç±»å‹è½¬æ¢</span>
</span></span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="floatä¸vecmatè¿ç®—">floatä¸vecã€matè¿ç®—</h3>
<p>è¦æ±‚:</p>
<ul>
<li>æ ‡é‡ä¸åˆ†é‡ç±»å‹ä¸€è‡´</li>
<li>é€åˆ†é‡è¿ç®—</li>
</ul>
<p>æ ‡é‡ä¸å‘é‡ï¼ŒçŸ©é˜µè¿ç®—æ—¶ï¼Œå°±æ˜¯æ¯ä¸€åˆ†é‡ä¸æ ‡é‡çš„è¿ç®—ï¼ŒåŒæ ·éœ€è¦æ³¨æ„ç±»å‹ä¸€è‡´ã€‚å¦‚intä¸èƒ½ä¸vecï¼Œmatè¿ç®—ï¼Œå› ä¸ºvecï¼Œmatçš„åˆ†é‡æ˜¯floatç±»å‹ã€‚
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="vecä¸vecçš„è¿ç®—">vecä¸vecçš„è¿ç®—</h3>
<p>è¦æ±‚ï¼š</p>
<ul>
<li>é˜¶æ•°ç›¸åŒ</li>
<li>å¯¹åº”åˆ†é‡è¿ç®—</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-glsl" data-lang="glsl"><span style="display:flex;"><span><span style="color:#66d9ef">vec3</span> a<span style="color:#f92672">=</span><span style="color:#66d9ef">vec3</span>(<span style="color:#ae81ff">1.0</span>,<span style="color:#ae81ff">2.0</span>,<span style="color:#ae81ff">3.0</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">vec3</span> b<span style="color:#f92672">=</span><span style="color:#66d9ef">vec3</span>(<span style="color:#ae81ff">1.0</span>,<span style="color:#ae81ff">2.0</span>,<span style="color:#ae81ff">3.0</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">vec3</span> c<span style="color:#f92672">=</span>a<span style="color:#f92672">+</span>b; <span style="color:#75715e">//vec3(2.0,4.0,6.0)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">vec3</span> d<span style="color:#f92672">=</span>a<span style="color:#f92672">*</span>b; <span style="color:#75715e">//vec3(1.0,4.0,9.0)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">vec3</span> e<span style="color:#f92672">=</span>a<span style="color:#f92672">/</span>b; <span style="color:#75715e">//vec3(1.0,1.0,1.0)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">vec3</span> e<span style="color:#f92672">=</span>a<span style="color:#f92672">-</span>b; <span style="color:#75715e">//vec3(0.0,0.0,0.0)</span>
</span></span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="vecä¸matè¿ç®—">vecä¸matè¿ç®—</h3>
<p>è¦æ±‚ï¼š</p>
<ul>
<li>é˜¶æ•°ç›¸åŒ</li>
<li>æ–¹é˜¶çŸ©é˜µ</li>
<li>åªæœ‰ä¹˜æ³•è¿ç®—</li>
<li>ç›¸ä¹˜ç»“æœä¸ºå‘é‡ã€‚</li>
</ul>
<p>ä¹˜æ³•è§„åˆ™ï¼šæœ¬è´¨æ˜¯çŸ©é˜µç›¸ä¹˜çš„è§„åˆ™ï¼Œç¬¬ä¸€ä¸ªçŸ©é˜µçš„åˆ—æ•°ä¸ç¬¬äºŒä¸ªçŸ©é˜µçš„è¡Œæ•°ç›¸ç­‰æ—¶å¯ä»¥ç›¸ä¹˜<!-- raw HTML omitted -->
  <p><img src="https://cdn.nlark.com/yuque/__latex/cc37f6813226cac2c048fcda5364509a.svg#card=math&amp;code=Mv%3D%5Cbegin%7Bbmatrix%7Dm_%7B1%2C1%7D%26m_%7B1%2C2%7D%5C%5Cm_%7B2%2C1%7D%26m_%7B2%2C2%7D%5Cend%7Bbmatrix%7D%0A%5Cbegin%7Bbmatrix%7Dv_1%5C%5Cv_2%20%5Cend%7Bbmatrix%7D%3D%0A%5Cbegin%7Bbmatrix%7Dm_%7B1%2C1%7D%2Av_1%2Bm_%7B1%2C2%7D%2Av_2%5C%5Cm_%7B2%2C1%7D%2Av_1%2Bm_%7B2%2C2%7D%2Av_2%20%5Cend%7Bbmatrix%7D&amp;id=G5JoW" alt="" loading="lazy" /></p>
<!-- raw HTML omitted -->
  <p><img src="https://cdn.nlark.com/yuque/__latex/aa518273ce76c583daa06ee7714761df.svg#card=math&amp;code=v%5ETM%3D%5Cbegin%7Bbmatrix%7Dv_1%26v_2%20%5Cend%7Bbmatrix%7D%5Cbegin%7Bbmatrix%7Dm_%7B1%2C1%7D%26m_%7B1%2C2%7D%5C%5Cm_%7B2%2C1%7D%26m_%7B2%2C2%7D%5Cend%7Bbmatrix%7D%3D%0A%5Cbegin%7Bbmatrix%7Dm_%7B1%2C1%7D%2Av_1%2Bm_%7B2%2C1%7D%2Av_2%26m_%7B1%2C2%7D%2Av_1%2Bm_%7B2%2C2%7D%2Av_2%20%5Cend%7Bbmatrix%7D&amp;id=Yqkaz" alt="" loading="lazy" /></p>
</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-glsl" data-lang="glsl"><span style="display:flex;"><span><span style="color:#66d9ef">vec2</span> v<span style="color:#f92672">=</span><span style="color:#66d9ef">vec2</span>(<span style="color:#ae81ff">2.</span>,<span style="color:#ae81ff">3.</span>,);<span style="color:#75715e">//å¯¹äº2.0è¿™ç±»å¯ç®€å†™ä¸º2.</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">mat2</span> m<span style="color:#f92672">=</span><span style="color:#66d9ef">mat2</span>(<span style="color:#ae81ff">1.</span>,<span style="color:#ae81ff">2.</span>,<span style="color:#ae81ff">3.</span>,<span style="color:#ae81ff">4.</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">vec2</span> leftm<span style="color:#f92672">=</span>m<span style="color:#f92672">*</span>v;<span style="color:#75715e">//vec2(8.,18.)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">vec2</span> rightm<span style="color:#f92672">=</span>v<span style="color:#f92672">*</span>m;<span style="color:#75715e">//vec2(11.ï¼Œ16.)</span>
</span></span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="matä¸mat">matä¸mat</h3>
<ul>
<li>æ–¹é˜¶çŸ©é˜µï¼Œæ“ä½œæ•°ç›¸åŒ</li>
<li>é™¤ä¹˜æ³•å¤–ï¼Œå…¶ä½™è¿ç®—å‡ä¸ºå¯¹åº”åˆ†é‡è¿ç®—</li>
<li>ä¹˜æ³•éµå¾ªçº¿æ€§ä»£æ•°ä¹˜æ³•è§„åˆ™</li>
</ul>
<p>
  <p><img src="https://cdn.nlark.com/yuque/0/2023/png/29064333/1688369586597-ea3a462d-cf1b-4dfc-8309-0773ae34f309.png#averageHue=%23f9f9f9&amp;clientId=u08c0faed-6f74-4&amp;from=paste&amp;height=233&amp;id=udc302158&amp;originHeight=233&amp;originWidth=628&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=13368&amp;status=done&amp;style=none&amp;taskId=u5d466c99-b1c0-4321-a643-e089da0d031&amp;title=&amp;width=628" alt="image.png" loading="lazy" /></p>
</p>
<blockquote>
<p>æ³¨æ„ï¼šglsl é‡ŒçŸ©é˜µåˆ—ä¼˜å…ˆ</p>
</blockquote>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="æµç¨‹æ§åˆ¶">æµç¨‹æ§åˆ¶</h2>
<p>forï¼ŒifåŸºæœ¬ä¸Cä¸€è‡´ï¼Œåªæ˜¯forå¾ªç¯å¤šå‡ºä¸€ä¸ªç”¨äºç‰‡æ®µç€è‰²å™¨çš„å…³é”®å­—<code>discard</code>ç”¨äºæ”¾å¼ƒå¯¹å½“å‰åƒå…ƒçš„å¤„ç†
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="å†…ç½®å˜é‡">å†…ç½®å˜é‡</h2>
<p>é¡¶ç‚¹ç€è‰²å™¨å¯ç”¨çš„å†…ç½®å˜é‡ï¼š</p>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>ç±»å‹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>gl_Color</td>
<td>vec4</td>
<td>è¾“å…¥å±æ€§-è¡¨ç¤ºé¡¶ç‚¹çš„ä¸»é¢œè‰²</td>
</tr>
<tr>
<td>gl_SecondaryColor</td>
<td>vec4</td>
<td>è¾“å…¥å±æ€§-è¡¨ç¤ºé¡¶ç‚¹çš„è¾…åŠ©é¢œè‰²</td>
</tr>
<tr>
<td>gl_Normal</td>
<td>vec3</td>
<td>è¾“å…¥å±æ€§-è¡¨ç¤ºé¡¶ç‚¹çš„æ³•çº¿å€¼</td>
</tr>
<tr>
<td>gl_Vertex</td>
<td>vec4</td>
<td>è¾“å…¥å±æ€§-è¡¨ç¤ºç‰©ä½“ç©ºé—´çš„é¡¶ç‚¹ä½ç½®</td>
</tr>
<tr>
<td>gl_MultiTexCoordn</td>
<td>vec4</td>
<td>è¾“å…¥å±æ€§-è¡¨ç¤ºé¡¶ç‚¹çš„ç¬¬nä¸ªçº¹ç†çš„åæ ‡</td>
</tr>
<tr>
<td>gl_FogCoord</td>
<td>float</td>
<td>è¾“å…¥å±æ€§-è¡¨ç¤ºé¡¶ç‚¹çš„é›¾åæ ‡</td>
</tr>
<tr>
<td>gl_Position</td>
<td>vec4</td>
<td>è¾“å‡ºå±æ€§-å˜æ¢åçš„é¡¶ç‚¹çš„ä½ç½®ï¼Œç”¨äºåé¢çš„å›ºå®šçš„è£å‰ªç­‰æ“ä½œã€‚æ‰€æœ‰çš„é¡¶ç‚¹ç€è‰²å™¨éƒ½å¿…é¡»å†™è¿™ä¸ªå€¼ã€‚</td>
</tr>
<tr>
<td>gl_ClipVertex</td>
<td>vec4</td>
<td>è¾“å‡ºåæ ‡ï¼Œç”¨äºç”¨æˆ·è£å‰ªå¹³é¢çš„è£å‰ª</td>
</tr>
<tr>
<td>gl_PointSize</td>
<td>float</td>
<td>ç‚¹çš„å¤§å°ï¼Œæ–¹å½¢ç‚¹æ¸²æŸ“çš„å¤§å°</td>
</tr>
<tr>
<td>gl_FrontColor</td>
<td>vec4</td>
<td>æ­£é¢çš„ä¸»é¢œè‰²çš„varyingè¾“å‡º</td>
</tr>
<tr>
<td>gl_BackColor</td>
<td>vec4</td>
<td>èƒŒé¢ä¸»é¢œè‰²çš„varyingè¾“å‡º</td>
</tr>
<tr>
<td>gl_FrontSecondaryColor</td>
<td>vec4</td>
<td>æ­£é¢çš„è¾…åŠ©é¢œè‰²çš„varyingè¾“å‡º</td>
</tr>
<tr>
<td>gl_BackSecondaryColor</td>
<td>vec4</td>
<td>èƒŒé¢çš„è¾…åŠ©é¢œè‰²çš„varyingè¾“å‡º</td>
</tr>
<tr>
<td>gl_TexCoord[]</td>
<td>vec4</td>
<td>çº¹ç†åæ ‡çš„æ•°ç»„varyingè¾“å‡º</td>
</tr>
<tr>
<td>gl_FogFragCoord</td>
<td>float</td>
<td>é›¾åæ ‡çš„varyingè¾“å‡º</td>
</tr>
</tbody>
</table>
<p>ç‰‡æ®µç€è‰²å™¨å†…ç½®å˜é‡ï¼š</p>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>ç±»å‹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>gl_Color</td>
<td>vec4</td>
<td>åŒ…å«ä¸»é¢œè‰²çš„æ’å€¼åªè¯»è¾“å…¥</td>
</tr>
<tr>
<td>gl_SecondaryColor</td>
<td>vec4</td>
<td>åŒ…å«è¾…åŠ©é¢œè‰²çš„æ’å€¼åªè¯»è¾“å…¥</td>
</tr>
<tr>
<td>gl_TextCoord[]</td>
<td>vec4</td>
<td>åŒ…å«çº¹ç†åæ ‡æ•°ç»„çš„æ’å€¼åªè¯»è¾“å…¥</td>
</tr>
<tr>
<td>gl_FogFragCoord</td>
<td>float</td>
<td>åŒ…å«é›¾åæ ‡çš„æ’å€¼åªè¯»è¾“å…¥</td>
</tr>
<tr>
<td>gl_FrontFacing</td>
<td>bool</td>
<td>åªè¯»è¾“å…¥ï¼Œå¦‚æœæ˜¯çª—å£æ­£é¢å›¾å…ƒçš„ä¸€éƒ¨åˆ†ï¼Œè¯¥å€¼ä¸ºtrue</td>
</tr>
<tr>
<td>gl_PointCoord</td>
<td>vec2</td>
<td>ç‚¹ç²¾çµçš„äºŒç»´ç©ºé—´åæ ‡èŒƒå›´åœ¨(0.0, 0.0)åˆ°(1.0, 1.0)ä¹‹é—´ï¼Œä»…ç”¨äºç‚¹å›¾å…ƒå’Œç‚¹ç²¾çµå¼€å¯çš„æƒ…å†µä¸‹ã€‚</td>
</tr>
<tr>
<td>gl_FragData[]</td>
<td>vec4</td>
<td>è¾“å‡ºçš„é¢œè‰²ç”¨äºåç»­çš„åƒç´ æ“ä½œ</td>
</tr>
<tr>
<td>gl_FragColor</td>
<td>vec4</td>
<td>è¾“å‡ºçš„é¢œè‰²ç”¨äºéšåçš„åƒç´ æ“ä½œ</td>
</tr>
<tr>
<td>gl_FragDepth</td>
<td>float</td>
<td>è¾“å‡ºçš„æ·±åº¦ç”¨äºéšåçš„åƒç´ æ“ä½œï¼Œå¦‚æœè¿™ä¸ªå€¼æ²¡æœ‰è¢«å†™ï¼Œåˆ™ä½¿ç”¨å›ºå®šåŠŸèƒ½ç®¡çº¿çš„æ·±åº¦å€¼ä»£æ›¿</td>
</tr>
</tbody>
</table>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="ä¿®é¥°ç¬¦">ä¿®é¥°ç¬¦</h2>
<p>å˜é‡å£°æ˜å¯ä»¥ä½¿ç”¨çš„ä¿®é¥°ç¬¦ï¼š</p>
<table>
<thead>
<tr>
<th>ä¿®é¥°ç¬¦</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>const</td>
<td>å¸¸é‡ï¼Œå£°æ˜æ—¶</td>
</tr>
<tr>
<td>attribute</td>
<td>è¡¨ç¤ºåªè¯»çš„é¡¶ç‚¹æ•°æ®ï¼Œåªç”¨åœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­ï¼Œæ•°æ®æ¥è‡ªå½“å‰é¡¶ç‚¹çŠ¶æ€æˆ–è€…é¡¶ç‚¹æ•°ç»„ï¼Œå¿…é¡»æ˜¯å…¨å±€èŒƒå›´å£°æ˜çš„ï¼Œä¸èƒ½åœ¨å‡½æ•°å†…éƒ¨ã€‚ä¸€ä¸ªattributeå¯ä»¥æ˜¯æµ®ç‚¹ç±»å‹çš„æ ‡é‡ï¼Œå‘é‡ï¼Œæˆ–è€…çŸ©é˜µã€‚ä¸èƒ½æ˜¯æ•°ç»„æˆ–è€…ç»“æ„ä½“ã€‚</td>
</tr>
<tr>
<td>uniform</td>
<td>å…¨å±€å˜é‡ï¼Œåœ¨ç€è‰²å™¨æ‰§è¡ŒæœŸé—´ä¸€è‡´å˜é‡çš„å€¼æ˜¯ä¸å˜çš„ã€‚ä¸constå¸¸é‡ä¸åŒï¼Œè¯¥å€¼åœ¨ç€è‰²å™¨å¤–éƒ¨åˆå§‹åŒ–çš„ï¼Œä¸€è‡´å˜é‡åœ¨é¡¶ç‚¹ç€è‰²å™¨å’Œç‰‡æ®µç€è‰²å™¨ä¹‹é—´æ˜¯å…±äº«çš„ï¼Œåªèƒ½åœ¨å…¨å±€èŒƒå›´è¿›è¡Œå£°æ˜</td>
</tr>
<tr>
<td>varying</td>
<td>é¡¶ç‚¹ç€è‰²å™¨çš„è¾“å‡ºï¼Œå¦‚é¢œè‰²æˆ–çº¹ç†åæ ‡ï¼Œï¼ˆæ’å€¼åçš„æ•°æ®ï¼‰ä½œä¸ºç‰‡æ®µç€è‰²å™¨çš„åªè¯»è¾“å…¥æ•°æ®ï¼Œå¯ä»¥æ˜¯æµ®ç‚¹ç±»å‹çš„æ ‡é‡ï¼Œå‘é‡ï¼ŒçŸ©é˜µï¼Œä¸èƒ½æ˜¯æ•°ç»„æˆ–è€…ç»“æ„ä½“ã€‚</td>
</tr>
<tr>
<td>centorid varying</td>
<td></td>
</tr>
</tbody>
</table>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="heading"></h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="ç€è‰²å™¨">ç€è‰²å™¨</h1>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="é¡¶ç‚¹ç€è‰²å™¨">é¡¶ç‚¹ç€è‰²å™¨</h2>
<p>ä¸€ä¸ªé¡¶ç‚¹ç€è‰²å™¨å¤§è‡´å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-glsl" data-lang="glsl"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> main() {
</span></span><span style="display:flex;"><span>   gl_Position <span style="color:#f92672">=</span> clipspaceCoordinates;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>æ¯ä¸ªé¡¶ç‚¹éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡é¡¶ç‚¹ç€è‰²å™¨</strong>ã€‚<!-- raw HTML omitted -->é¡¶ç‚¹ç€è‰²å™¨æ‰€éœ€çš„æ•°æ®ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼è·å–ï¼š</p>
<ul>
<li>Attributes</li>
<li>Uniforms ä¸ç‰‡æ®µç€è‰²å™¨ä¸€è‡´</li>
<li>Textures ä¸ç‰‡æ®µç€è‰²å™¨è®¾ç½®æ–¹å¼ä¸€è‡´
<!-- raw HTML omitted --><!-- raw HTML omitted --></li>
</ul>
<h3 id="attributes">Attributes</h3>
<p>jsä¸­è®¾ç½®æŸä¸ªå±æ€§å˜é‡</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">//åˆå§‹åŒ–æ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">buf</span><span style="color:#f92672">=</span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">createBuffer</span>();
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">bindBuffer</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">ARRAY_BUFFER</span>,<span style="color:#a6e22e">buf</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">bufferData</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">ARRAY_BUFFER</span>,<span style="color:#a6e22e">data</span>,<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">STATIC_DRAW</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">location</span><span style="color:#f92672">=</span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">getAttribLocation</span>(<span style="color:#a6e22e">someShaderProgram</span>, <span style="color:#e6db74">&#34;attribute_name&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#75715e">//å…³è”å±æ€§å¹¶å®šä¹‰è¯»å–è§„åˆ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">enableVertexAttribArray</span>(<span style="color:#a6e22e">location</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">vertexAttribPointer</span>(<span style="color:#a6e22e">location</span>,<span style="color:#a6e22e">numComponents</span>,<span style="color:#a6e22e">type</span>,<span style="color:#66d9ef">false</span>,<span style="color:#a6e22e">stride</span>,<span style="color:#a6e22e">offset</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å°è£…
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">setAttribute</span>(<span style="color:#a6e22e">gl</span>,<span style="color:#a6e22e">data</span>,<span style="color:#a6e22e">usage</span>,<span style="color:#a6e22e">program</span>,<span style="color:#a6e22e">attributeName</span>,<span style="color:#a6e22e">numComponents</span>,<span style="color:#a6e22e">type</span>,<span style="color:#a6e22e">normalize</span>,<span style="color:#a6e22e">stride</span>,<span style="color:#a6e22e">offset</span>){
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//åˆå§‹åŒ–æ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">buf</span><span style="color:#f92672">=</span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">createBuffer</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">bindBuffer</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">ARRAY_BUFFER</span>,<span style="color:#a6e22e">buf</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">bufferData</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">ARRAY_BUFFER</span>,<span style="color:#a6e22e">data</span>,<span style="color:#a6e22e">usage</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">location</span><span style="color:#f92672">=</span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">getAttribLocation</span>(<span style="color:#a6e22e">program</span>, <span style="color:#a6e22e">attributeName</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//å…³è”å±æ€§å¹¶å®šä¹‰è¯»å–è§„åˆ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">enableVertexAttribArray</span>(<span style="color:#a6e22e">location</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">vertexAttribPointer</span>(<span style="color:#a6e22e">location</span>,<span style="color:#a6e22e">numComponents</span>,<span style="color:#a6e22e">type</span>,<span style="color:#a6e22e">normalize</span>,<span style="color:#a6e22e">stride</span>,<span style="color:#a6e22e">offset</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="uniforms">Uniforms</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform1f</span> (<span style="color:#a6e22e">floatUniformLoc</span>, <span style="color:#a6e22e">v</span>);                 <span style="color:#75715e">// float
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform1fv</span>(<span style="color:#a6e22e">floatUniformLoc</span>, [<span style="color:#a6e22e">v</span>]);               <span style="color:#75715e">// float æˆ– float array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform2f</span> (<span style="color:#a6e22e">vec2UniformLoc</span>,  <span style="color:#a6e22e">v0</span>, <span style="color:#a6e22e">v1</span>);            <span style="color:#75715e">// vec2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform2fv</span>(<span style="color:#a6e22e">vec2UniformLoc</span>,  [<span style="color:#a6e22e">v0</span>, <span style="color:#a6e22e">v1</span>]);          <span style="color:#75715e">// vec2 æˆ– vec2 array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform3f</span> (<span style="color:#a6e22e">vec3UniformLoc</span>,  <span style="color:#a6e22e">v0</span>, <span style="color:#a6e22e">v1</span>, <span style="color:#a6e22e">v2</span>);        <span style="color:#75715e">// vec3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform3fv</span>(<span style="color:#a6e22e">vec3UniformLoc</span>,  [<span style="color:#a6e22e">v0</span>, <span style="color:#a6e22e">v1</span>, <span style="color:#a6e22e">v2</span>]);      <span style="color:#75715e">// vec3 æˆ– vec3 array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform4f</span> (<span style="color:#a6e22e">vec4UniformLoc</span>,  <span style="color:#a6e22e">v0</span>, <span style="color:#a6e22e">v1</span>, <span style="color:#a6e22e">v2</span>, <span style="color:#a6e22e">v4</span>);    <span style="color:#75715e">// vec4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform4fv</span>(<span style="color:#a6e22e">vec4UniformLoc</span>,  [<span style="color:#a6e22e">v0</span>, <span style="color:#a6e22e">v1</span>, <span style="color:#a6e22e">v2</span>, <span style="color:#a6e22e">v4</span>]);  <span style="color:#75715e">// vec4 æˆ– vec4 array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniformMatrix2fv</span>(<span style="color:#a6e22e">mat2UniformLoc</span>, <span style="color:#66d9ef">false</span>, [  <span style="color:#ae81ff">4</span><span style="color:#a6e22e">x</span> <span style="color:#a6e22e">element</span> <span style="color:#a6e22e">array</span> ])  <span style="color:#75715e">// mat2 æˆ– mat2 array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniformMatrix3fv</span>(<span style="color:#a6e22e">mat3UniformLoc</span>, <span style="color:#66d9ef">false</span>, [  <span style="color:#ae81ff">9</span><span style="color:#a6e22e">x</span> <span style="color:#a6e22e">element</span> <span style="color:#a6e22e">array</span> ])  <span style="color:#75715e">// mat3 æˆ– mat3 array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniformMatrix4fv</span>(<span style="color:#a6e22e">mat4UniformLoc</span>, <span style="color:#66d9ef">false</span>, [ <span style="color:#ae81ff">16</span><span style="color:#a6e22e">x</span> <span style="color:#a6e22e">element</span> <span style="color:#a6e22e">array</span> ])  <span style="color:#75715e">// mat4 æˆ– mat4 array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform1i</span> (<span style="color:#a6e22e">intUniformLoc</span>,   <span style="color:#a6e22e">v</span>);                 <span style="color:#75715e">// int
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform1iv</span>(<span style="color:#a6e22e">intUniformLoc</span>, [<span style="color:#a6e22e">v</span>]);                 <span style="color:#75715e">// int æˆ– int array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform2i</span> (<span style="color:#a6e22e">ivec2UniformLoc</span>, <span style="color:#a6e22e">v0</span>, <span style="color:#a6e22e">v1</span>);            <span style="color:#75715e">// ivec2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform2iv</span>(<span style="color:#a6e22e">ivec2UniformLoc</span>, [<span style="color:#a6e22e">v0</span>, <span style="color:#a6e22e">v1</span>]);          <span style="color:#75715e">// ivec2 æˆ– ivec2 array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform3i</span> (<span style="color:#a6e22e">ivec3UniformLoc</span>, <span style="color:#a6e22e">v0</span>, <span style="color:#a6e22e">v1</span>, <span style="color:#a6e22e">v2</span>);        <span style="color:#75715e">// ivec3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform3iv</span>(<span style="color:#a6e22e">ivec3UniformLoc</span>, [<span style="color:#a6e22e">v0</span>, <span style="color:#a6e22e">v1</span>, <span style="color:#a6e22e">v2</span>]);      <span style="color:#75715e">// ivec3 or ivec3 array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform4i</span> (<span style="color:#a6e22e">ivec4UniformLoc</span>, <span style="color:#a6e22e">v0</span>, <span style="color:#a6e22e">v1</span>, <span style="color:#a6e22e">v2</span>, <span style="color:#a6e22e">v4</span>);    <span style="color:#75715e">// ivec4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform4iv</span>(<span style="color:#a6e22e">ivec4UniformLoc</span>, [<span style="color:#a6e22e">v0</span>, <span style="color:#a6e22e">v1</span>, <span style="color:#a6e22e">v2</span>, <span style="color:#a6e22e">v4</span>]);  <span style="color:#75715e">// ivec4 æˆ– ivec4 array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform1i</span> (<span style="color:#a6e22e">sampler2DUniformLoc</span>,   <span style="color:#a6e22e">v</span>);           <span style="color:#75715e">// sampler2D (textures)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform1iv</span>(<span style="color:#a6e22e">sampler2DUniformLoc</span>, [<span style="color:#a6e22e">v</span>]);           <span style="color:#75715e">// sampler2D æˆ– sampler2D array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform1i</span> (<span style="color:#a6e22e">samplerCubeUniformLoc</span>,   <span style="color:#a6e22e">v</span>);         <span style="color:#75715e">// samplerCube (textures)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform1iv</span>(<span style="color:#a6e22e">samplerCubeUniformLoc</span>, [<span style="color:#a6e22e">v</span>]);         <span style="color:#75715e">// samplerCube æˆ– samplerCube array
</span></span></span></code></pre></div><p>å¯¹äºæ•°ç»„ç±»å‹çš„å…¨å±€å˜é‡ï¼Œå¯ä»¥ä¸€æ¬¡èµ‹äºˆæ‰€æœ‰å€¼ï¼Œä¹Ÿå¯ä»¥å•ç‹¬è®¾ç½®æŸä¸€ç´¢å¼•çš„å€¼</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// ç€è‰²å™¨é‡Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">uniform</span> <span style="color:#a6e22e">vec2</span> <span style="color:#a6e22e">u_someVec2</span>[<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e">// JavaScript åˆå§‹åŒ–æ—¶
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">someVec2Loc</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">getUniformLocation</span>(<span style="color:#a6e22e">someProgram</span>, <span style="color:#e6db74">&#34;u_someVec2&#34;</span>);
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æ¸²æŸ“çš„æ—¶å€™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform2fv</span>(<span style="color:#a6e22e">someVec2Loc</span>, [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]);  <span style="color:#75715e">// è®¾ç½®æ•°ç»„ u_someVec2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//å•ç‹¬è®¾ç½®æŸä¸€ç´¢å¼•
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// JavaScript åˆå§‹åŒ–æ—¶
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">someVec2Element0Loc</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">getUniformLocation</span>(<span style="color:#a6e22e">someProgram</span>, <span style="color:#e6db74">&#34;u_someVec2[0]&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">someVec2Element1Loc</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">getUniformLocation</span>(<span style="color:#a6e22e">someProgram</span>, <span style="color:#e6db74">&#34;u_someVec2[1]&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">someVec2Element2Loc</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">getUniformLocation</span>(<span style="color:#a6e22e">someProgram</span>, <span style="color:#e6db74">&#34;u_someVec2[2]&#34;</span>);
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æ¸²æŸ“çš„æ—¶å€™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform2fv</span>(<span style="color:#a6e22e">someVec2Element0Loc</span>, [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>]);  <span style="color:#75715e">// set element 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform2fv</span>(<span style="color:#a6e22e">someVec2Element1Loc</span>, [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]);  <span style="color:#75715e">// set element 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform2fv</span>(<span style="color:#a6e22e">someVec2Element2Loc</span>, [<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]);  <span style="color:#75715e">// set element 2
</span></span></span></code></pre></div><p>åŒæ ·å¯¹äºç»“æ„ä½“ï¼Œéœ€è¦æ‰¾åˆ°æ¯ä¸ªå…ƒç´ çš„åœ°å€</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">//ç€è‰²å™¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">struct</span> <span style="color:#a6e22e">SomeStruct</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">bool</span> <span style="color:#a6e22e">active</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">vec2</span> <span style="color:#a6e22e">someVec2</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">uniform</span> <span style="color:#a6e22e">SomeStruct</span> <span style="color:#a6e22e">u_someThing</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">someThingActiveLoc</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">getUniformLocation</span>(<span style="color:#a6e22e">someProgram</span>, <span style="color:#e6db74">&#34;u_someThing.active&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">someThingSomeVec2Loc</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">getUniformLocation</span>(<span style="color:#a6e22e">someProgram</span>, <span style="color:#e6db74">&#34;u_someThing.someVec2&#34;</span>);
</span></span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="ç‰‡æ®µç€è‰²å™¨">ç‰‡æ®µç€è‰²å™¨</h2>
<p>ç‰‡æ®µç€è‰²å™¨çš„å·¥ä½œæ˜¯ä¸ºå½“å‰å…‰æ …åŒ–çš„åƒç´ æä¾›é¢œè‰²å€¼ï¼Œé€šå¸¸æ˜¯ä»¥ä¸‹å½¢å¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-glsl" data-lang="glsl"><span style="display:flex;"><span><span style="color:#66d9ef">precision</span> <span style="color:#66d9ef">mediump</span> <span style="color:#66d9ef">float</span>;
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> main() {
</span></span><span style="display:flex;"><span>   gl_FragColor <span style="color:#f92672">=</span> doMathToMakeAColor;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>æ¯ä¸ªåƒç´ éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡ç‰‡æ®µç€è‰²å™¨</strong>ã€‚<!-- raw HTML omitted -->ç‰‡æ®µç€è‰²å™¨æ‰€éœ€çš„æ•°æ®ï¼Œé€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼è·å–ã€‚</p>
<ul>
<li>Uniforms åŒé¡¶ç‚¹ç€è‰²å™¨</li>
<li>Textures</li>
<li>Varying
<!-- raw HTML omitted --><!-- raw HTML omitted --></li>
</ul>
<h3 id="textures">Textures</h3>
<p>è·å–çº¹ç†ä¿¡æ¯ï¼Œéœ€è¦<code>sampler[123]D</code>ç±»å‹çš„å˜é‡ï¼Œç„¶åé€šè¿‡GLSLæ–¹æ³•<code>texture2D</code>æå–çº¹ç†ä¿¡æ¯ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-glsl" data-lang="glsl"><span style="display:flex;"><span><span style="color:#66d9ef">precision</span> <span style="color:#66d9ef">mediump</span> <span style="color:#66d9ef">float</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">uniform</span> <span style="color:#66d9ef">sampler2D</span> u_texture;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> main() {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">vec2</span> texcoord <span style="color:#f92672">=</span> <span style="color:#66d9ef">vec2</span>(<span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">0.5</span>);  <span style="color:#75715e">// è·å–çº¹ç†ä¸­å¿ƒçš„å€¼</span>
</span></span><span style="display:flex;"><span>   gl_FragColor <span style="color:#f92672">=</span> texture2D(u_texture, texcoord);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// åˆ›å»ºå¹¶å¡«å……çº¹ç†æ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">tex</span><span style="color:#f92672">=</span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">createTexture</span>();
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">bindTexture</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">TEXTURE_2D</span>,<span style="color:#a6e22e">tex</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">level</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#75715e">//æŒ‡å®šçº¹ç†çš„è¯¦ç»†çº§åˆ«ï¼Œ0æ˜¯åŸºæœ¬å›¾åƒï¼Œnæ˜¯ç¬¬nä¸ªé‡‘å­—å¡”ç®€åŒ–çº§
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;<span style="color:#75715e">//æŒ‡å®šçº¹ç†çš„å®½åº¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;<span style="color:#75715e">//æŒ‡å®šçº¹ç†çš„é«˜åº¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">internalformat</span><span style="color:#f92672">=</span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">RGBA</span>;<span style="color:#75715e">//æŒ‡å®šçº¹ç†ä¸­çš„é¢œè‰²ç»„ä»¶ï¼Œè¿™é‡Œæ˜¯RGBAï¼Œæ¯ä¸ªåƒç´ æœ‰å››ä¸ªå­—èŠ‚ï¼Œæ¯ä¸ªå­—èŠ‚è¡¨ç¤ºå…¶ä¸­ä¸€ä¸ªé¢œè‰²é€šé“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//çº¹ç†çš„åƒç´ æº gl.UNSIGNED_BYTEå¿…é¡»ä½¿ç”¨uint8 èŒƒå›´ä¸º0-255ï¼Œåˆšå¥½é€‚åˆå­˜å‚¨rgbaçš„ï¿½ï¿½å½©
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">pixels</span><span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Uint8Array</span>([
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">255</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">255</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">255</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">255</span>,
</span></span><span style="display:flex;"><span>]);
</span></span><span style="display:flex;"><span><span style="color:#75715e">//å¡«å……çº¹ç† gl.TEXTURE_2D äºŒç»´çº¹ç†è´´å›¾ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">texImage2D</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">TEXTURE_2D</span>,<span style="color:#a6e22e">level</span>,<span style="color:#a6e22e">internalformat</span>,<span style="color:#a6e22e">width</span>,<span style="color:#a6e22e">height</span>,<span style="color:#ae81ff">0</span>,<span style="color:#a6e22e">internalformat</span>,<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">UNSIGNED_BYTE</span>,<span style="color:#a6e22e">pixels</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">// è®¾ç½®çº¹ç†å‚æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">texParameterf</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">TEXTURE_2D</span>,<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">TEXTURE_MIN_FILTER</span>,<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">LINEAR</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ç»‘å®šä¸€ä¸ªçº¹ç†å•å…ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">unit</span><span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>;<span style="color:#75715e">//æŒ‘é€‰ä¸€ä¸ªçº¹ç†å•å…ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">activeTexture</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">TEXTURE0</span><span style="color:#f92672">+</span><span style="color:#a6e22e">unit</span> )
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">bindTexture</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">TEXTURE_2D</span>,<span style="color:#a6e22e">tex</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">// è®¾ç½®çº¹ç†é‡‡æ ·å™¨æ‰€ä½¿ç”¨çš„çº¹ç†å•å…ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform1i</span>(<span style="color:#a6e22e">texLocation</span>,<span style="color:#a6e22e">unit</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;en&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;viewport&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width=device-width, initial-scale=1.0&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">title</span>&gt;Document&lt;/<span style="color:#f92672">title</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">style</span>&gt;
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">*</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      #glcanvas {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">0</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#66d9ef">black</span>;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">style</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">canvas</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;glcanvas&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;800&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;600&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      ä½ çš„æµè§ˆå™¨ä¼¼ä¹ä¸æ”¯æŒæˆ–è€…ç¦ç”¨äº† HTML5 &lt;<span style="color:#f92672">code</span>&gt;&amp;lt;canvas&amp;gt;&lt;/<span style="color:#f92672">code</span>&gt; å…ƒç´ ã€‚
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">canvas</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">canvas</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;glcanvas&#34;</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">bottom</span>, <span style="color:#a6e22e">right</span>, <span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">t</span>, <span style="color:#a6e22e">left</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">getBoundingClientRect</span>();
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// è®¡ç®— canvasçš„ä¸­å¿ƒç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">center</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">x</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">left</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">right</span>) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">y</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">bottom</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">t</span>) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>      };
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">gl</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#34;webgl&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// ç¡®è®¤ WebGL æ”¯æŒæ€§
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">gl</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">alert</span>(
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;æ— æ³•åˆå§‹åŒ– WebGLï¼Œä½ çš„æµè§ˆå™¨ã€æ“ä½œç³»ç»Ÿæˆ–ç¡¬ä»¶ç­‰å¯èƒ½ä¸æ”¯æŒ WebGLã€‚&#34;</span>
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#34;ä¸æ”¯æŒgl&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// return;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// åˆ›å»ºç€è‰²å™¨çš„æ–¹æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createShader</span>(<span style="color:#a6e22e">gl</span>, <span style="color:#a6e22e">type</span>, <span style="color:#a6e22e">source</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">shader</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">createShader</span>(<span style="color:#a6e22e">type</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">shaderSource</span>(<span style="color:#a6e22e">shader</span>, <span style="color:#a6e22e">source</span>); <span style="color:#75715e">//ä¸ºç€è‰²å™¨å¯¹è±¡æä¾›æ•°æ®æºï¼Œå³æˆ‘ä»¬å†™çš„ç€è‰²å™¨ä»£ç 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">compileShader</span>(<span style="color:#a6e22e">shader</span>); <span style="color:#75715e">//ç¼–è¯‘ç€è‰²å™¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">success</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">getShaderParameter</span>(<span style="color:#a6e22e">shader</span>, <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">COMPILE_STATUS</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// æˆåŠŸç¼–è¯‘åè¿”å›ç€è‰²å™¨å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">success</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">shader</span>;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// è®¡ç®—å˜æ¢çŸ©é˜µ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getMat3</span>(<span style="color:#a6e22e">w</span>, <span style="color:#a6e22e">h</span>, <span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> [
</span></span><span style="display:flex;"><span>          <span style="color:#ae81ff">2</span> <span style="color:#f92672">/</span> <span style="color:#a6e22e">w</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#ae81ff">0.0</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#ae81ff">0.0</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">/</span> <span style="color:#a6e22e">h</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>          (<span style="color:#f92672">-</span><span style="color:#ae81ff">2.0</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">x</span>) <span style="color:#f92672">/</span> <span style="color:#a6e22e">w</span>,
</span></span><span style="display:flex;"><span>          (<span style="color:#ae81ff">2.0</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">y</span>) <span style="color:#f92672">/</span> <span style="color:#a6e22e">h</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#ae81ff">1.0</span>,
</span></span><span style="display:flex;"><span>        ];
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">vsSource</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      attribute vec2 a_position;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      uniform mat3 u_m;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      void main() {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        vec3 position=vec3(a_position.x,a_position.y,1.0);
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        vec3 result=u_m*position;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        gl_Position = vec4(result.x,result.y,0,1);
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      `</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">fsSource</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      precision mediump float;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      // å®šä¹‰ä¸€ä¸ªçº¹ç†é‡‡æ ·å™¨
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      uniform sampler2D u_texture;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      void main(){
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        vec2 texcoord=vec2(0.5,0.5);//è·å–çº¹ç†ä¸­å¿ƒçš„å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        gl_FragColor=texture2D(u_texture,texcoord);
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      `</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// åˆ›å»ºç€è‰²å™¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">vertexShader</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">createShader</span>(<span style="color:#a6e22e">gl</span>, <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">VERTEX_SHADER</span>, <span style="color:#a6e22e">vsSource</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">fragmentShader</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">createShader</span>(<span style="color:#a6e22e">gl</span>, <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">FRAGMENT_SHADER</span>, <span style="color:#a6e22e">fsSource</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// å°†ç€è‰²å™¨é“¾æ¥åˆ°ä¸€ä¸ªprogramç€è‰²ç¨‹åº
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createProgram</span>(<span style="color:#a6e22e">gl</span>, <span style="color:#a6e22e">vertexShader</span>, <span style="color:#a6e22e">fragmentShader</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">program</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">createProgram</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">attachShader</span>(<span style="color:#a6e22e">program</span>, <span style="color:#a6e22e">vertexShader</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">attachShader</span>(<span style="color:#a6e22e">program</span>, <span style="color:#a6e22e">fragmentShader</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">linkProgram</span>(<span style="color:#a6e22e">program</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">success</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">getProgramParameter</span>(<span style="color:#a6e22e">program</span>, <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">LINK_STATUS</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">success</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">program</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// æœªé“¾æ¥æˆåŠŸï¼Œåˆ™æ‰“å°ç›¸å…³ä¿¡æ¯ï¼Œå¹¶åˆ é™¤å¤±è´¥çš„program
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">getProgramInfoLog</span>(<span style="color:#a6e22e">program</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">deleteProgram</span>(<span style="color:#a6e22e">program</span>);
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">program</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">createProgram</span>(<span style="color:#a6e22e">gl</span>, <span style="color:#a6e22e">vertexShader</span>, <span style="color:#a6e22e">fragmentShader</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">positionAttributeLocation</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">getAttribLocation</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">program</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;a_position&#34;</span>
</span></span><span style="display:flex;"><span>      );
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">u_m</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">getUniformLocation</span>(<span style="color:#a6e22e">program</span>, <span style="color:#e6db74">&#34;u_m&#34;</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// æ‰¾åˆ°çº¹ç†å˜é‡çš„åœ°å€ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">texLocation</span><span style="color:#f92672">=</span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">getUniformLocation</span>(<span style="color:#a6e22e">program</span>,<span style="color:#e6db74">&#39;u_texture&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">viewport</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">width</span>, <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">height</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">useProgram</span>(<span style="color:#a6e22e">program</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//  å¯ç”¨å±æ€§
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">enableVertexAttribArray</span>(<span style="color:#a6e22e">positionAttributeLocation</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// åˆå§‹åŒ–é¡¶ç‚¹æ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">positionBuffer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">createBuffer</span>();
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">bindBuffer</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">ARRAY_BUFFER</span>, <span style="color:#a6e22e">positionBuffer</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">bufferData</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">ARRAY_BUFFER</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Float32Array</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">800</span>, <span style="color:#ae81ff">600</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">600</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">800</span>, <span style="color:#ae81ff">600</span>, <span style="color:#ae81ff">800</span>, <span style="color:#ae81ff">0</span>]),
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">STATIC_DRAW</span>
</span></span><span style="display:flex;"><span>      );
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// åˆ›å»ºå¹¶å¡«å……çº¹ç†æ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">tex</span><span style="color:#f92672">=</span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">createTexture</span>();
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">bindTexture</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">TEXTURE_2D</span>,<span style="color:#a6e22e">tex</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">level</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#75715e">//æŒ‡å®šçº¹ç†çš„è¯¦ç»†çº§åˆ«ï¼Œ0æ˜¯åŸºæœ¬å›¾åƒï¼Œnæ˜¯ç¬¬nä¸ªé‡‘å­—å¡”ç®€åŒ–çº§
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;<span style="color:#75715e">//æŒ‡å®šçº¹ç†çš„å®½åº¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;<span style="color:#75715e">//æŒ‡å®šçº¹ç†çš„é«˜åº¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">internalformat</span><span style="color:#f92672">=</span><span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">RGBA</span>;<span style="color:#75715e">//æŒ‡å®šçº¹ç†ä¸­çš„é¢œè‰²ç»„ä»¶ï¼Œè¿™é‡Œæ˜¯RGBAï¼Œæ¯ä¸ªåƒç´ æœ‰å››ä¸ªå­—èŠ‚ï¼Œæ¯ä¸ªå­—èŠ‚è¡¨ç¤ºå…¶ä¸­ä¸€ä¸ªé¢œè‰²é€šé“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#75715e">//çº¹ç†çš„åƒç´ æº gl.UNSIGNED_BYTEå¿…é¡»ä½¿ç”¨uint8 èŒƒå›´ä¸º0-255ï¼Œåˆšå¥½é€‚åˆå­˜å‚¨rgbaçš„è‰²å½©
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">pixels</span><span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Uint8Array</span>([
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">255</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">255</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">255</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">255</span>,
</span></span><span style="display:flex;"><span>      ]);
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//å¡«å……çº¹ç† gl.TEXTURE_2D äºŒç»´çº¹ç†è´´å›¾ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">texImage2D</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">TEXTURE_2D</span>,<span style="color:#a6e22e">level</span>,<span style="color:#a6e22e">internalformat</span>,<span style="color:#a6e22e">width</span>,<span style="color:#a6e22e">height</span>,<span style="color:#ae81ff">0</span>,<span style="color:#a6e22e">internalformat</span>,<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">UNSIGNED_BYTE</span>,<span style="color:#a6e22e">pixels</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// è®¾ç½®çº¹ç†å‚æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">texParameterf</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">TEXTURE_2D</span>,<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">TEXTURE_MIN_FILTER</span>,<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">LINEAR</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// ç»‘å®šä¸€ä¸ªçº¹ç†å•å…ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">unit</span><span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>;<span style="color:#75715e">//æŒ‘é€‰ä¸€ä¸ªçº¹ç†å•å…ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">activeTexture</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">TEXTURE0</span><span style="color:#f92672">+</span><span style="color:#a6e22e">unit</span> )
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">bindTexture</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">TEXTURE_2D</span>,<span style="color:#a6e22e">tex</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// è®¾ç½®çº¹ç†é‡‡æ ·å™¨æ‰€ä½¿ç”¨çš„çº¹ç†å•å…ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniform1i</span>(<span style="color:#a6e22e">texLocation</span>,<span style="color:#a6e22e">unit</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// ç»‘å®šå±æ€§å’Œç¼“å†²ï¼Œä»¥åŠé…ç½®é¡¶ç‚¹å±æ€§
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">bindBuffer</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">ARRAY_BUFFER</span>, <span style="color:#a6e22e">positionBuffer</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">vertexAttribPointer</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">positionAttributeLocation</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">FLOAT</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>      );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// è®¾ç½®å…¨å±€å˜é‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">uniformMatrix3fv</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">u_m</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Float32Array</span>(
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">getMat3</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">width</span>, <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">height</span>, <span style="color:#a6e22e">center</span>.<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">center</span>.<span style="color:#a6e22e">y</span>)
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>      );
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// é…ç½®é¡¶ç‚¹å±æ€§æŒ‡é’ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">clearColor</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.5</span>); <span style="color:#75715e">//è®¾ç½®æ¸…ç©ºé¢œè‰²
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">clear</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">COLOR_BUFFER_BIT</span>); <span style="color:#75715e">//æ¸…ç©ºç”»å¸ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">drawArrays</span>(<span style="color:#a6e22e">gl</span>.<span style="color:#a6e22e">TRIANGLES</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">html</span>&gt;
</span></span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="ç€è‰²å™¨é—´çš„é€šä¿¡">ç€è‰²å™¨é—´çš„é€šä¿¡</h2>
<p>GLSLå®šä¹‰äº†<code>in</code> å’Œ <code>out</code> æ¥å®šä¹‰ä¸€ä¸ªç¨‹åºçš„è¾“å…¥è¾“å‡ºï¼Œé¡¶ç‚¹ç€è‰²å™¨åº”è¯¥æ¥æ”¶ä¸€ç§</p>

          </div>
        </div>
                 
      
  
  
  
  

  

  <div class="article-paging">
    
      <section class="post-paging--item card-container content-padding-primary soft-size--primary soft-style--box">
  <div class="card-cover" ></div>
  <div class="card-text">
    <a href="/docs/ug9wev84zgrapbqx/"><h4 class="card-text--title text-ellipsis">é—®é¢˜æœé›†</h4></a>
    <p class="card-text--row">2023-06-27 05:49</p>
  </div>
</section>
    
    
      <section class="post-paging--item card-container content-padding-primary soft-size--primary soft-style--box">
  <div class="card-cover" ></div>
  <div class="card-text">
    <a href="/docs/ev78vuu53ktlaifb/"><h4 class="card-text--title text-ellipsis">æ— æ ‡é¢˜æ–‡æ¡£</h4></a>
    <p class="card-text--row">2023-06-26 09:32</p>
  </div>
</section>
    
  </div>
</div>
  <aside class="widget-info">
    
<section class="aside-widget widget-author content-padding-large soft-size--large soft-style--box">
  <div class="widget-body">
    <div class="author-box avatar">
      
      <img class="author-avatar soft-size--round soft-style--box" src="https://cdn.jsdelivr.net/gh/Sentisfate/wanhuatong@main/img/cdai.jfif" alt="gisculibur">
      
      <h2 class="author-name text-ellipsis">gisculibur</h2>
      
      <p class="author-desc text-ellipsis">æ–°æ‰‹WebGISæ”»åŸç‹®</p>
      
    </div>
  </div>
</section>


    

<section class="aside-widget widget-toc content-padding-large soft-size--large soft-style--box">
  <h2 class="widget-header">
    <div class="title">
      <span>ç›®å½•</span>
    </div>
  </h2>
  <div class="widget-body">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#glslå˜é‡">GLSLå˜é‡</a>
      <ul>
        <li><a href="#è¯­æ³•åŸºç¡€">è¯­æ³•åŸºç¡€</a></li>
        <li><a href="#åŸºæœ¬ç±»å‹">åŸºæœ¬ç±»å‹</a></li>
        <li><a href="#è¿ç®—è§„åˆ™">è¿ç®—è§„åˆ™</a>
          <ul>
            <li><a href="#åŸºç¡€ç±»å‹é—´çš„è¿ç®—">åŸºç¡€ç±»å‹é—´çš„è¿ç®—</a></li>
            <li><a href="#floatä¸vecmatè¿ç®—">floatä¸vecã€matè¿ç®—</a></li>
            <li><a href="#vecä¸vecçš„è¿ç®—">vecä¸vecçš„è¿ç®—</a></li>
            <li><a href="#vecä¸matè¿ç®—">vecä¸matè¿ç®—</a></li>
            <li><a href="#matä¸mat">matä¸mat</a></li>
          </ul>
        </li>
        <li><a href="#æµç¨‹æ§åˆ¶">æµç¨‹æ§åˆ¶</a></li>
        <li><a href="#å†…ç½®å˜é‡">å†…ç½®å˜é‡</a></li>
        <li><a href="#ä¿®é¥°ç¬¦">ä¿®é¥°ç¬¦</a>
          <ul>
            <li><a href="#heading"></a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#ç€è‰²å™¨">ç€è‰²å™¨</a>
      <ul>
        <li><a href="#é¡¶ç‚¹ç€è‰²å™¨">é¡¶ç‚¹ç€è‰²å™¨</a>
          <ul>
            <li><a href="#attributes">Attributes</a></li>
            <li><a href="#uniforms">Uniforms</a></li>
          </ul>
        </li>
        <li><a href="#ç‰‡æ®µç€è‰²å™¨">ç‰‡æ®µç€è‰²å™¨</a>
          <ul>
            <li><a href="#textures">Textures</a></li>
          </ul>
        </li>
        <li><a href="#ç€è‰²å™¨é—´çš„é€šä¿¡">ç€è‰²å™¨é—´çš„é€šä¿¡</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</section>


    










<section class="aside-widget widget-articles content-padding-large soft-size--large soft-style--box">
  <h2 class="widget-header">
    <div class="title">
      <span>ç›¸å…³æ–‡ç« </span>
    </div>
  </h2>
  <div class="widget-body">
    <ul class="post-list">
      
      
        <li class="post-item"><a href="/docs/ix726493ddpi6i3q/">3dTiles</a></li>
      
        <li class="post-item"><a href="/posts/qa4vydlw37pbsi3v/">WebGL å›¾åƒå¤„ç†</a></li>
      
        <li class="post-item"><a href="/docs/goz05uyu3i5v92c9/">Cesium æ¨¡å‹å‹å¹³</a></li>
      
        <li class="post-item"><a href="/docs/cl6l0mww8kkkizwb/">ä¸‰è§’å‰–åˆ†</a></li>
      
        <li class="post-item"><a href="/docs/prgrgit7lss8vggf/">GISç†è®ºåŸºç¡€</a></li>
      
        <li class="post-item"><a href="/docs/vzxnspucb4agb00w/">é—®é¢˜</a></li>
      
    </ul>
  </div>
</section>


    




<section class="aside-widget widget-categories content-padding-large soft-size--large soft-style--box">
  <h2 class="widget-header">
    <div class="title">
      <span>åˆ†ç±»</span>
    </div>
  </h2>
  <div class="widget-body">
    <ul class="categories-list">
      
        <li>
          <a href="https://Sentisfate.github.io/categories/webgl/">WebGL</a>
          <span>1</span>
        </li>
      
        <li>
          <a href="https://Sentisfate.github.io/categories/%E5%9B%BE%E5%BA%8A/">å›¾åºŠ</a>
          <span>1</span>
        </li>
      
    </ul>
  </div>

  
</section>


    




<section class="aside-widget widget-tags content-padding-large soft-size--large soft-style--box">
  <h2 class="widget-header">
    <div class="title">
      <span>æ ‡ç­¾</span>
    </div>
  </h2>
  <div class="widget-body">
    <div class="tags-list">
      
        <a href="https://Sentisfate.github.io/tags/github/" data-count="1" class="soft-size--small soft-style--hover soft-style--active">github</a>
      
        <a href="https://Sentisfate.github.io/tags/picgo/" data-count="1" class="soft-size--small soft-style--hover soft-style--active">picgo</a>
      
        <a href="https://Sentisfate.github.io/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" data-count="1" class="soft-size--small soft-style--hover soft-style--active">å›¾åƒå¤„ç†</a>
      
    </div>
  </div>

  
</section>

  </aside>
</div>
  </main><footer class="footer-container layout-block">
  
  <div class="social-icons">
    
      <a class="soft-size--primary soft-style--box" href="https://github.com/Sentisfate" target="_blank" rel="noopener noreferrer">
          
        <svg class="icon icon-github" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
          <path d="M64.6 512c0 195.6 125.4 361.9 300.1 422.9 23.5 5.9 19.9-10.8 19.9-22.2v-77.6c-135.8 15.9-141.3-74-150.5-89-18.5-31.5-61.9-39.5-49-54.5 31-15.9 62.5 4 98.9 58 26.4 39.1 77.9 32.5 104.1 26 5.7-23.5 17.9-44.5 34.7-60.9-140.7-25.2-199.4-111.1-199.4-213.3 0-49.5 16.4-95.1 48.4-131.8-20.4-60.6 1.9-112.4 4.9-120.1 58.2-5.2 118.5 41.6 123.3 45.3 33.1-8.9 70.8-13.7 112.9-13.7 42.4 0 80.3 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.4-43.9 2.9 7.7 24.7 58.3 5.5 118.1 32.5 36.8 49 82.8 49 132.4 0 102.3-59 188.3-200.2 213.2 23.5 23.3 38.1 55.5 38.1 91.1v112.7c0.8 9 0 17.9 15.1 17.9C832.7 877 960.4 709.4 960.4 512.1c0-247.5-200.6-447.9-447.9-447.9C265 64.1 64.6 264.5 64.6 512z"></path>
        </svg>
        

        

        

        

        
      </a>
    
  </div>
  

  <div class="colour-bar"></div>
  
  

  

  <p>
    Powered by
    <a href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a>
    Theme - 
    <a href="https://github.com/miiiku/hugo-theme-kagome" target="_blank" rel="noopener noreferrer author">kagome</a>
  </p>

  <p>
    <a href="javascript:;" id="theme-light">ğŸŒ æµ…è‰²</a>
    <a href="javascript:;" id="theme-dark">ğŸŒ› æ·±è‰²</a>
    <a href="javascript:;" id="theme-auto">ğŸ¤–ï¸ è‡ªåŠ¨</a>
  </p>
</footer>



<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>






</body>

</html>