<!DOCTYPE html>
<html><head>
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer" />
   
  <meta name="author" content="gisculibur">
  

   
  
  
  
  
  
  
  <meta name="keywords"
    content="theme,kagome">
  

  

  <meta name="generator" content="Hugo 0.115.2">


  
  
  
  
  <title>cookie&#43;session&#43;token 🌟 GIS咖喱棒</title>

  <meta property="og:title" content="cookie&#43;session&#43;token" />
<meta property="og:description" content="cookie 理解 本质是**key**-**value**文本信息，存储在客户端的，用于识别用户信息，**HTTP**本身是无状态的，服务端只知道有HT" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Sentisfate.github.io/docs/wocenf/" /><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2022-07-07T06:40:56+00:00" />
<meta property="article:modified_time" content="2023-04-25T13:11:01+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="cookie&#43;session&#43;token"/>
<meta name="twitter:description" content="cookie 理解 本质是**key**-**value**文本信息，存储在客户端的，用于识别用户信息，**HTTP**本身是无状态的，服务端只知道有HT"/>


  
  
  
  
  <link rel="stylesheet" href="https://Sentisfate.github.io/assets/css/style.min.a9eba8a87a1f5444669cfe92317af83504187100f2529f484b2eeaff89777b86.css" integrity="sha256-qeuoqHofVERmnP6SMXr4NQQYcQDyUp9ISy7q/4l3e4Y=">

  <script src="https://Sentisfate.github.io/assets/js/main.min.182da266209851bc7c828aa7377f98f914e1e76c8decdd53a6cbe9bffea92cde.js" integrity="sha256-GC2iZiCYUbx8goqnN3&#43;Y&#43;RTh52yN7N1Tpsvpv/6pLN4="></script>

  </head><body><header class="header-container layout-block layout-padding">
  <div class="header-inner content-padding-large soft-size--large soft-style--box">
    <div class="header-logo">
      <a href="https://Sentisfate.github.io"><h1>GIS咖喱棒</h1></a>
    </div>
    <nav class="header-nav">
      <div class="header-nav--btn">
        <div class="btn-item"></div>
        <div class="btn-item"></div>
        <div class="btn-item"></div>
      </div>
      <div class="header-nav--list">
        <div>
          
          <a class="list-item soft-size--small soft-style--hover soft-style--active" href="/" title="GIS咖喱棒">主页</a>
          
          <a class="list-item soft-size--small soft-style--hover soft-style--active" href="/docs/" title="Docs">笔记</a>
          
          <a class="list-item soft-size--small soft-style--hover soft-style--active" href="/categories/" title="Categories">分类</a>
          
          <a class="list-item soft-size--small soft-style--hover soft-style--active" href="/tags/" title="Tags">标签</a>
          
        </div>
      </div>
    </nav>
  </div>
</header><main id="content">
    

    <div class="single-container layout-block">
      <div class="article-info">
        <div class="article-header layout-padding">
          <div class="article-cover card-container content-padding-large soft-size--large soft-style--box img">

  <div class="card-cover">
    
      <img src="https://cdn.nlark.com/yuque/0/2022/png/29064333/1657025332588-ac8d5986-a8af-4f38-9a9d-83fbc09ee213.png" alt="https://cdn.nlark.com/yuque/0/2022/png/29064333/1657025332588-ac8d5986-a8af-4f38-9a9d-83fbc09ee213.png" />
    
  </div>

  <div class="card-text">
    <h1 class="card-text--title">cookie&#43;session&#43;token</h1>
    
      <p class="card-text--row">2022-07-07 06:40</p>
      
      
      

      
      
    
  </div>

</div>
        </div>

        <div class="article-content">
          <div class="markdown-body content-padding-large soft-size--large soft-style--box">
            <p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="cookie-"><code>cookie </code></h2>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="理解">理解</h3>
<p>本质是<code>**key**</code>-<code>**value**</code>文本信息，存储在客户端的，用于识别用户信息，<code>**HTTP**</code>本身是无状态的，服务端只知道有HTTP请求，无法知道是谁发起的请求。</p>
<p><strong>每个键值对有 过期时间、域、路径、脚本可否访问等描述信息</strong>；**描述信息存储在客户端，客户端请求时，默认会带上cookie的名称和值，不会带描述信息。**通过http请求报文header中的cookie项进行传输；服务器响应时，可���设置cookie信息，就在http响应报文的header中Set-Cookie项。</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="cookie的构成"><code>cookie</code>的构成</h3>
<p>属性：</p>
<ul>
<li>NAME=VALUE ，NAME不能于与其他属性项的名字一致。</li>
<li>Expires  过期时间，为时间戳
<ul>
<li>正数表示还有多少秒过期，此时不论浏览器是否关闭都会保存，时间到期后就会失效。也叫cookie的持久化</li>
<li>负数，在浏览器重启或关闭后，cookie就立即失效。</li>
<li>0   立即删除</li>
</ul>
</li>
<li>max-age 过期时间单位为秒</li>
<li>domain: cookie对哪个域是有效的，浏览器会根据这项配置，向指定域中发送 cookie</li>
<li>path  cookie 影响的路径，浏览器会根据这项配置像指定域中匹配的路径发送cookie</li>
<li>HttpOnly:告知不允许通过脚本 document.cookie去获取更改cookie这个值，但cookie仍在浏览器安装目录中以文件形式存在，此项设置通常在服务端设置。</li>
<li>secure 安全标志，只有在SSL链接时才能发送到服务器，http链接则不会，但是cookie依然有办法被其他人获取</li>
</ul>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="cookie的分类"><code>cookie</code>的分类</h3>
<p>本地<code>**cookie**</code>和内存<code>**cookie**</code>，区别在于设置了<code>**cookie**</code>的<code>**expires**</code>字段</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="cookie的机制"><code>cookie</code>的机制</h3>
<p>
  <p><img src="https://cdn.nlark.com/yuque/0/2022/png/29064333/1657025332588-ac8d5986-a8af-4f38-9a9d-83fbc09ee213.png#averageHue=%23f4f4f4&amp;clientId=ucd7e30d6-815c-4&amp;from=paste&amp;height=519&amp;id=ucc3a4740&amp;originHeight=649&amp;originWidth=842&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=303473&amp;status=done&amp;style=none&amp;taskId=u2977af38-627c-4e36-a81d-7b4fadcb3c2&amp;title=&amp;width=673.6" alt="image.png" loading="lazy" /></p>
</p>
<p>如何使用<code>**cookie**</code><!-- raw HTML omitted -->js中使用cookie。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">//定义cookie
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>document.<span style="color:#a6e22e">cookie</span> <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;username=John Doe; expires=Thu, 18 Dec 2043 12:00:00 GMT&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//修改cookie
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>document.<span style="color:#a6e22e">cookie</span> <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;username=John Smith; expires=Thu, 18 Dec 2043 12:00:00 GMT; path=/&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//获取cookie
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cookie</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">cookie</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//删除cookie
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>document.<span style="color:#a6e22e">cookie</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;username=; expires=Thu, 01 Jan 1970 00:00:00 GMT&#34;</span>;
</span></span></code></pre></div><p>完整实例</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">//设置cookie的函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">setCookie</span>(<span style="color:#a6e22e">cname</span>,<span style="color:#a6e22e">cvalue</span>,<span style="color:#a6e22e">exdays</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">d</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Date();
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">setTime</span>(<span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">getTime</span>()<span style="color:#f92672">+</span>(<span style="color:#a6e22e">exdays</span><span style="color:#f92672">*</span><span style="color:#ae81ff">24</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">expires</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;expires=&#34;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">toGMTString</span>();
</span></span><span style="display:flex;"><span>    document.<span style="color:#a6e22e">cookie</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">cname</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;=&#34;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">cvalue</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;; &#34;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">expires</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//获取指定cookie值的函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getCookie</span>(<span style="color:#a6e22e">cname</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">cname</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;=&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ca</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">cookie</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39;;&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">ca</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">c</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ca</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">trim</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#a6e22e">name</span>)<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>) { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">substring</span>(<span style="color:#a6e22e">name</span>.<span style="color:#a6e22e">length</span>,<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">length</span>); }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//检测是否有指定cookie的函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">checkCookie</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">user</span><span style="color:#f92672">=</span><span style="color:#a6e22e">getCookie</span>(<span style="color:#e6db74">&#34;username&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">user</span><span style="color:#f92672">!=</span><span style="color:#e6db74">&#34;&#34;</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;欢迎 &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; 再次访问&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">prompt</span>(<span style="color:#e6db74">&#34;请输入你的名字:&#34;</span>,<span style="color:#e6db74">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">user</span><span style="color:#f92672">!=</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">user</span><span style="color:#f92672">!=</span><span style="color:#66d9ef">null</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">setCookie</span>(<span style="color:#e6db74">&#34;username&#34;</span>,<span style="color:#a6e22e">user</span>,<span style="color:#ae81ff">30</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>node.js使用cookie</p>
<ol>
<li>创建Cookie，服务器端收到http请求时，可以在响应头里添加一个Set-Cookie选项。</li>
</ol>
<p><code>Set-Cookie: &lt;cookie 名&gt;=&lt;cookie 值&gt;</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#66d9ef">HTTP</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1.0</span> <span style="color:#ae81ff">200</span> <span style="color:#a6e22e">OK</span>
</span></span><span style="display:flex;"><span>Content-type<span style="color:#f92672">:</span> <span style="color:#ae81ff">text/html</span>
</span></span><span style="display:flex;"><span>Set-Cookie<span style="color:#f92672">:</span> <span style="color:#ae81ff">yummy_cookie=choco</span>
</span></span><span style="display:flex;"><span>Set-Cookie<span style="color:#f92672">:</span> <span style="color:#ae81ff">tasty_cookie=strawberry</span>
</span></span></code></pre></div><p>Node.js 设置响应头信息</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">setHeader</span>(<span style="color:#e6db74">&#39;Set-Cookie&#39;</span>, [<span style="color:#e6db74">&#39;username=admin&#39;</span>, <span style="color:#e6db74">&#39;pwd=123&#39;</span>]);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>(<span style="color:#e6db74">&#39;这是cookie响应头测试&#39;</span>);
</span></span></code></pre></div><p>
  <p><img src="https://cdn.nlark.com/yuque/0/2022/png/29064333/1657028338607-136b4448-7427-46d7-86ce-435b4c32b5ec.png#averageHue=%23f4f3f1&amp;clientId=ucd7e30d6-815c-4&amp;from=paste&amp;height=204&amp;id=u9874f58c&amp;originHeight=255&amp;originWidth=539&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=16742&amp;status=done&amp;style=none&amp;taskId=ua293f7d6-8f9a-46a4-b91e-915b99b2553&amp;title=&amp;width=431.2" alt="image.png" loading="lazy" /></p>
<!-- raw HTML omitted -->设置cookie的生命周期，即生效时间。<!-- raw HTML omitted -->Expires 属性指定过期时间</p>
<blockquote>
<p><strong>Cookie 的过期时间被设定时，设定的日期和时间只与客户端相关，而不是服务端。</strong></p>
</blockquote>
<ol start="2">
<li>客户端发送请求附带之前保存的cookie，通过请求头发送给服务器</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#a6e22e">GET</span> /sample_page.html <span style="color:#66d9ef">HTTP</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1.1</span>
</span></span><span style="display:flex;"><span>Host<span style="color:#f92672">:</span> <span style="color:#ae81ff">www.example.org</span>
</span></span><span style="display:flex;"><span>Cookie<span style="color:#f92672">:</span> <span style="color:#ae81ff">yummy_cookie=choco; tasty_cookie=strawberry</span>
</span></span></code></pre></div><ol start="3">
<li>
<!-- raw HTML omitted -->
</li>
</ol>
<p>风险<!-- raw HTML omitted --><strong>CSRF(跨站请求伪造)</strong>
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="session"><code>session</code></h2>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="session是什么"><code>session</code>是什么</h3>
<p>会话，用于识别会话的对方是谁。识别客户端，一般保存在cookie中。<!-- raw HTML omitted -->session是服务端存储的一个对象，用于存储所有访问过该服务端的客户端的用户信息，也可以存储其他信息，同时，利用该信息来实现保持用户**会话状态。**正常情况session是存储在内存中的，服务端重启时，内存会被销毁，session也随之销毁。&mdash;&gt;存储到数据库或其他文件中。</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="session作用"><code>session</code>作用</h3>
<p>用于识别会话的对方是谁。识别客户端
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="session机制原理"><code>session</code>机制原理</h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="session如何使用"><code>session</code>如何使用</h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="token是什么"><code>token</code>是什么</h2>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="token的作用"><code>token</code>的作用</h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="token的机制原理"><code>token</code>的机制原理</h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="token如何使用"><code>token</code>如何使用</h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="json-web-token">JSON Web Token</h2>
<p>即<code>**jwt**</code>，是是后端用来生成token的一个库。</p>
<blockquote>
<p>JSON Web Token (JWT) 是一个开放标准 (RFC 7519)，它定义了一种紧凑且自包含的方式，用于在各方之间安全地传输信息作为 JSON 对象。 此信息可以验证和信任，因为它是数字签名的。 JWT 可以使用密钥（使用 <code>**HMAC **</code>算法）或使用<code>** RSA**</code> 或<code>** ECDSA**</code> 的公钥/私钥对进行签名。</p>
</blockquote>
<p><strong>node.js中</strong>的使用：<!-- raw HTML omitted --><code>**npm i jsonwebtoken -S**</code><!-- raw HTML omitted --><strong>express</strong>中还要安装express-jwt<!-- raw HTML omitted --><code>**npm i express-jwt -S**</code>
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="jwt组成">jwt组成</h3>
<blockquote>
<p>JSON Web Tokens consist of three parts separated by dots (.)</p>
</blockquote>
<p>jwt由三部分组成，以点号分割，如<code>xxx.yy.zzzz</code></p>
<ul>
<li>Header</li>
<li>Payload</li>
<li>Signature
<!-- raw HTML omitted --><!-- raw HTML omitted --></li>
</ul>
<h4 id="header">header</h4>
<p>header由通常由两部分组成，token令牌的类型即jwt，以及正在使用数字签名的算法，如<code>**HMAC**``**RSA**``**ECDSA**</code> 。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;alg&#34;</span>: <span style="color:#e6db74">&#34;HS256&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;typ&#34;</span>: <span style="color:#e6db74">&#34;JWT&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>header json以Base64Url编码形式组成JWT的第一个部分。
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h4 id="payload">Payload</h4>
<p>是组成jwt的第二个部分，其中包含<code>claim</code>声明，claim是关于实体（通常是用户）和附加数据的描述。claim分为三种类型，注册声明，公开声明，私有声明。</p>
<ul>
<li>Registered claims</li>
</ul>
<blockquote>
<p>注册声明：这些是一组预定义的声明，它们不是强制性的，但建议使用，以提供一组有用的、可互操作的声明。 其中一些是：<code>**iss**</code>（<code>**issuer**</code>发行人）、<code>**exp**</code>（<code>**expiration time**</code>到期时间）、<code>**sub**</code>（<code>**subject**</code>主题）、<code>**aud**</code>（<code>**audience**</code>受众）等。</p>
</blockquote>
<p>常用字段<!-- raw HTML omitted -->iss  【issuer】发布者的url地址<!-- raw HTML omitted -->sub 【subject】该JWT所面向的用户，用于处理特定应用，不是常用的字段<!-- raw HTML omitted -->aud 【audience】接受者的url地址<!-- raw HTML omitted -->exp 【expiration】 该jwt销毁的时间；unix时间戳<!-- raw HTML omitted -->nbf  【not before】 该jwt的使用时间不能早于该时间；unix时间戳<!-- raw HTML omitted -->iat   【issued at】 该jwt的发布时间；unix 时间戳<!-- raw HTML omitted -->jti    【JWT ID】 该jwt的唯一ID编号</p>
<ul>
<li>Public claims</li>
</ul>
<blockquote>
<p>公共声明：这些可以由使用 JWT 的人随意定义。 但是为了避免冲突，它们应该在 <a href="https://www.iana.org/assignments/jwt/jwt.xhtml" target="_blank" rel="noopener">IANA JSON Web Token Registry</a> 中定义，或者定义为包含抗冲突命名空间的 URI。</p>
</blockquote>
<ul>
<li>Private claims</li>
</ul>
<blockquote>
<p>私有声明：这些是为在同意使用它们的各方之间共享信息而创建的自定义声明，既不是注册声明也不是公共声明。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;sub&#34;</span>: <span style="color:#e6db74">&#34;1234567890&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;John Doe&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;admin&#34;</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//name 和admin 就是私有声明
</span></span></span></code></pre></div><p>payload也是由base64Url编码进jwt的第二部分。
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h4 id="signature">Signature</h4>
<blockquote>
<p>To create the signature part you have to take the encoded header, the encoded payload, a secret, the algorithm specified in the header, and sign that.</p>
</blockquote>
<p>要创建签名部分，必须获取编码的标头、编码的有效负载、<code>**secret(密钥)**</code>，按照标头中指定的算法，并对其进行签名。<strong>利用非对称加密方法的时候，这里的secret为服务器保管的私钥。jwt的密钥也叫jwk(json web key)</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">HMACSHA</span><span style="color:#ae81ff">256</span><span style="color:#960050;background-color:#1e0010">(</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">base</span><span style="color:#ae81ff">64</span><span style="color:#960050;background-color:#1e0010">UrlEncode(header)</span> <span style="color:#960050;background-color:#1e0010">+</span> <span style="color:#e6db74">&#34;.&#34;</span> <span style="color:#960050;background-color:#1e0010">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">base</span><span style="color:#ae81ff">64</span><span style="color:#960050;background-color:#1e0010">UrlEncode(payload),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">secret)</span>
</span></span></code></pre></div><p>作用：签名用于验证消息在此过程中没有被更改，并且在使用私钥签名的令牌的情况下，它还可以识别 JWT 的发送者。<!-- raw HTML omitted --><strong>jwt签名算法</strong>常见的有</p>
<ul>
<li>对称加密HMAC【哈希消息验证码】：HS256/HS384/HS512</li>
<li>非对称加密RSASSA【RSA签名算法】（RS256/RS384/RS512）和ECDSA【椭圆曲线数据签名算法】（ES256/ES384/ES512）</li>
</ul>
<p>当验证签名的时候，利用公钥或者密钥来解密Sign（签名），和 base64UrlEncode(header) + “.” + base64UrlEncode(payload) 的内容完全一样的时候，表示验证通过。</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h4 id="整合">整合</h4>
<p>:::info
输出是三个用点分隔的 Base64-URL 字符串，可以在 HTML 和 HTTP 环境中轻松传递，同时与基于 XML 的标准（如 SAML）相比更紧凑。
:::

  <p><img src="https://cdn.nlark.com/yuque/0/2022/png/29064333/1659259971455-614b3e9a-64a1-4ead-b04f-31c37b3e711c.png#averageHue=%23f5eefb&amp;clientId=u44fc9e55-a41c-4&amp;from=paste&amp;height=125&amp;id=ub7e90481&amp;originHeight=156&amp;originWidth=566&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=39849&amp;status=done&amp;style=none&amp;taskId=u51b083a4-222a-4feb-89b6-0ccc74a3130&amp;title=&amp;width=452.8" alt="image.png" loading="lazy" /></p>

<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="jwt的工作原理">jwt的工作原理</h3>
<p>
  <p><img src="https://cdn.nlark.com/yuque/0/2022/png/29064333/1659261204120-0373a0df-8c5b-4551-b482-b1f574070b3e.png#averageHue=%23f7f7f7&amp;clientId=u44fc9e55-a41c-4&amp;from=paste&amp;height=386&amp;id=u24dfec5a&amp;originHeight=482&amp;originWidth=428&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=35159&amp;status=done&amp;style=none&amp;taskId=u4fc749ee-dfa7-4d57-bd73-c00dcd0a068&amp;title=&amp;width=342.4" alt="image.png" loading="lazy" /></p>
<!-- raw HTML omitted -->
  <p><img src="https://cdn.nlark.com/yuque/0/2022/png/29064333/1659261610390-f0448ca1-3a31-48cc-80eb-7790f99fadf2.png#averageHue=%23f4ede9&amp;clientId=u44fc9e55-a41c-4&amp;from=paste&amp;height=198&amp;id=uc3c13c1a&amp;originHeight=247&amp;originWidth=709&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=23925&amp;status=done&amp;style=none&amp;taskId=uc9b5f076-0c4c-4212-bb19-03d1f6d0db3&amp;title=&amp;width=567.2" alt="image.png" loading="lazy" /></p>
</p>
<blockquote>
<p>在身份验证中，当用户使用其凭据成功登录时，将返回一个 JSON Web Token。 由于令牌是凭据，因此必须非常小心以防止出现安全问题。 通常，您不应将令牌保留超过所需的时间。
由于缺乏安全性，不应该将敏感的会话数据存储在浏览器存储中。
每当用户想要访问受保护的路由或资源时，用户代理应该发送 JWT，通常在 Authorization 标头中使用 Bearer 模式。 标头的内容应如下所示：</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Authorization:</span> <span style="color:#960050;background-color:#1e0010">Bearer</span> <span style="color:#960050;background-color:#1e0010">&lt;token&gt;</span>
</span></span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="如何使用">如何使用</h3>
<p><code>**express**</code>中<code>**jwt**</code>使用<!-- raw HTML omitted --><code>const jwt=require('jsonwebtoken')</code><!-- raw HTML omitted --><code>**encrypt **</code>加密函数<!-- raw HTML omitted --><code>**jwt.sign(payload,secret,options)**</code>** **</p>
<ul>
<li><code>**payload **</code>obj 私有声明，属于自定义的数据</li>
<li><code>**secret **``**string **</code>密钥</li>
<li><code>**options **``**obj**</code>注册声明选项</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">jwt</span>.<span style="color:#a6e22e">sign</span>({ <span style="color:#a6e22e">user_name</span> }, <span style="color:#a6e22e">secret</span>, { <span style="color:#a6e22e">expiresIn</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;24h&#39;</span> })
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">SignOptions</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">algorithm?:</span> <span style="color:#960050;background-color:#1e0010">Algorithm</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">undefined;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">keyid?:</span> <span style="color:#960050;background-color:#1e0010">string</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">undefined;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">expiresIn?:</span> <span style="color:#960050;background-color:#1e0010">string</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">number</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">undefined;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">/**</span> <span style="color:#960050;background-color:#1e0010">expressed</span> <span style="color:#960050;background-color:#1e0010">in</span> <span style="color:#960050;background-color:#1e0010">seconds</span> <span style="color:#960050;background-color:#1e0010">or</span> <span style="color:#960050;background-color:#1e0010">a</span> <span style="color:#960050;background-color:#1e0010">string</span> <span style="color:#960050;background-color:#1e0010">describing</span> <span style="color:#960050;background-color:#1e0010">a</span> <span style="color:#960050;background-color:#1e0010">time</span> <span style="color:#960050;background-color:#1e0010">span</span> <span style="color:#960050;background-color:#1e0010">[zeit/ms](https:</span><span style="color:#75715e">//github.com/zeit/ms.js).  Eg: 60, &#34;2 days&#34;, &#34;10h&#34;, &#34;7d&#34; */
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">notBefore?:</span> <span style="color:#960050;background-color:#1e0010">string</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">number</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">undefined;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">audience?:</span> <span style="color:#960050;background-color:#1e0010">string</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">string[]</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">undefined;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">subject?:</span> <span style="color:#960050;background-color:#1e0010">string</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">undefined;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">issuer?:</span> <span style="color:#960050;background-color:#1e0010">string</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">undefined;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">jwtid?:</span> <span style="color:#960050;background-color:#1e0010">string</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">undefined;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">mutatePayload?:</span> <span style="color:#960050;background-color:#1e0010">boolean</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">undefined;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">noTimestamp?:</span> <span style="color:#960050;background-color:#1e0010">boolean</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">undefined;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">header?:</span> <span style="color:#960050;background-color:#1e0010">JwtHeader</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">undefined;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">encoding?:</span> <span style="color:#960050;background-color:#1e0010">string</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">undefined;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>decrypt 解密函数<!-- raw HTML omitted --><code>**jwt.verify(token,secret)**</code></p>
<ul>
<li><code>**token string **</code>解密的令牌</li>
<li><code>**secret string**</code> 加密的密钥</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">token</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">secretKey</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;tokenjwt&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">options</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">expiresIn</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;10s&#39;</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 进行token校验
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">jwt</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;jsonwebtoken&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">createConnection</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;mysql&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">config</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;./config&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 验证token的函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">tokenVerify</span>(<span style="color:#a6e22e">token</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">jwt</span>.<span style="color:#a6e22e">verify</span>(<span style="color:#a6e22e">token</span>, <span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">token</span>.<span style="color:#a6e22e">secretKey</span><span style="color:#960050;background-color:#1e0010">，</span><span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">err</span>,<span style="color:#a6e22e">decode</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>( <span style="color:#a6e22e">decode</span>)<span style="color:#75715e">//token解码后的值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  });
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">err</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 导出token验证中间件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">isValidToken</span>(<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>, <span style="color:#a6e22e">next</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">bearerToken</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">headers</span>.<span style="color:#a6e22e">authorization</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">headers</span>.<span style="color:#a6e22e">authorization</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 没有token bearerToken会是undefined
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">bearerToken</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">bearerToken</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39; &#39;</span>)[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">isValid</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">tokenVerify</span>(<span style="color:#a6e22e">token</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">isValid</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isValid</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">next</span>();
</span></span><span style="display:flex;"><span>      } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>({
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">code</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">403</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;403 forbidden，当前凭证已失效，请重新登录&#39;</span>,
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">code</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">401</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;请先登录&#39;</span>,
</span></span><span style="display:flex;"><span>      });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="cookiesessiontoken三者有什么区别如何联系怎样使用">cookie，session，token三者有什么区别，如何联系，怎样使用。</h2>

          </div>
        </div>
                 
      
  
  
  
  

  

  <div class="article-paging">
    
      <section class="post-paging--item card-container content-padding-primary soft-size--primary soft-style--box">
  <div class="card-cover" background-image-lazy data-img="https://cdn.nlark.com/yuque/0/2022/png/29064333/1657262651032-3e5e69b7-ba03-4b8d-b0e0-40bc214eda5f.png"></div>
  <div class="card-text">
    <a href="/docs/lungs4/"><h4 class="card-text--title text-ellipsis">Typescript</h4></a>
    <p class="card-text--row">2022-07-08 07:59</p>
  </div>
</section>
    
    
      <section class="post-paging--item card-container content-padding-primary soft-size--primary soft-style--box">
  <div class="card-cover" ></div>
  <div class="card-text">
    <a href="/docs/wbihmx/"><h4 class="card-text--title text-ellipsis">element-ui 表单封装</h4></a>
    <p class="card-text--row">2022-07-04 09:01</p>
  </div>
</section>
    
  </div>
</div>
  <aside class="widget-info">
    
<section class="aside-widget widget-author content-padding-large soft-size--large soft-style--box">
  <div class="widget-body">
    <div class="author-box avatar">
      
      <img class="author-avatar soft-size--round soft-style--box" src="https://cdn.jsdelivr.net/gh/Sentisfate/wanhuatong@main/img/cdai.jfif" alt="gisculibur">
      
      <h2 class="author-name text-ellipsis">gisculibur</h2>
      
      <p class="author-desc text-ellipsis">新手WebGIS攻城狮</p>
      
    </div>
  </div>
</section>


    

<section class="aside-widget widget-toc content-padding-large soft-size--large soft-style--box">
  <h2 class="widget-header">
    <div class="title">
      <span>目录</span>
    </div>
  </h2>
  <div class="widget-body">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#cookie-"><code>cookie </code></a>
          <ul>
            <li><a href="#理解">理解</a></li>
            <li><a href="#cookie的构成"><code>cookie</code>的构成</a></li>
            <li><a href="#cookie的分类"><code>cookie</code>的分类</a></li>
            <li><a href="#cookie的机制"><code>cookie</code>的机制</a></li>
          </ul>
        </li>
        <li><a href="#session"><code>session</code></a>
          <ul>
            <li><a href="#session是什么"><code>session</code>是什么</a></li>
            <li><a href="#session作用"><code>session</code>作用</a></li>
            <li><a href="#session机制原理"><code>session</code>机制原理</a></li>
            <li><a href="#session如何使用"><code>session</code>如何使用</a></li>
          </ul>
        </li>
        <li><a href="#token是什么"><code>token</code>是什么</a>
          <ul>
            <li><a href="#token的作用"><code>token</code>的作用</a></li>
            <li><a href="#token的机制原理"><code>token</code>的机制原理</a></li>
            <li><a href="#token如何使用"><code>token</code>如何使用</a></li>
          </ul>
        </li>
        <li><a href="#json-web-token">JSON Web Token</a>
          <ul>
            <li><a href="#jwt组成">jwt组成</a>
              <ul>
                <li><a href="#header">header</a></li>
                <li><a href="#payload">Payload</a></li>
                <li><a href="#signature">Signature</a></li>
                <li><a href="#整合">整合</a></li>
              </ul>
            </li>
            <li><a href="#jwt的工作原理">jwt的工作原理</a></li>
            <li><a href="#如何使用">如何使用</a></li>
          </ul>
        </li>
        <li><a href="#cookiesessiontoken三者有什么区别如何联系怎样使用">cookie，session，token三者有什么区别，如何联系，怎样使用。</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</section>


    










<section class="aside-widget widget-articles content-padding-large soft-size--large soft-style--box">
  <h2 class="widget-header">
    <div class="title">
      <span>相关文章</span>
    </div>
  </h2>
  <div class="widget-body">
    <ul class="post-list">
      
      
        <li class="post-item"><a href="/docs/ix726493ddpi6i3q/">3dTiles</a></li>
      
        <li class="post-item"><a href="/posts/qa4vydlw37pbsi3v/">WebGL 图像处理</a></li>
      
        <li class="post-item"><a href="/docs/goz05uyu3i5v92c9/">Cesium 模型压平</a></li>
      
        <li class="post-item"><a href="/docs/cl6l0mww8kkkizwb/">三角剖分</a></li>
      
        <li class="post-item"><a href="/docs/prgrgit7lss8vggf/">GIS理论基础</a></li>
      
        <li class="post-item"><a href="/docs/vzxnspucb4agb00w/">问题</a></li>
      
    </ul>
  </div>
</section>


    




<section class="aside-widget widget-categories content-padding-large soft-size--large soft-style--box">
  <h2 class="widget-header">
    <div class="title">
      <span>分类</span>
    </div>
  </h2>
  <div class="widget-body">
    <ul class="categories-list">
      
        <li>
          <a href="https://Sentisfate.github.io/categories/webgl/">WebGL</a>
          <span>1</span>
        </li>
      
        <li>
          <a href="https://Sentisfate.github.io/categories/%E5%9B%BE%E5%BA%8A/">图床</a>
          <span>1</span>
        </li>
      
    </ul>
  </div>

  
</section>


    




<section class="aside-widget widget-tags content-padding-large soft-size--large soft-style--box">
  <h2 class="widget-header">
    <div class="title">
      <span>标签</span>
    </div>
  </h2>
  <div class="widget-body">
    <div class="tags-list">
      
        <a href="https://Sentisfate.github.io/tags/github/" data-count="1" class="soft-size--small soft-style--hover soft-style--active">github</a>
      
        <a href="https://Sentisfate.github.io/tags/picgo/" data-count="1" class="soft-size--small soft-style--hover soft-style--active">picgo</a>
      
        <a href="https://Sentisfate.github.io/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" data-count="1" class="soft-size--small soft-style--hover soft-style--active">图像处理</a>
      
    </div>
  </div>

  
</section>

  </aside>
</div>
  </main><footer class="footer-container layout-block">
  
  <div class="social-icons">
    
      <a class="soft-size--primary soft-style--box" href="https://github.com/Sentisfate" target="_blank" rel="noopener noreferrer">
          
        <svg class="icon icon-github" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
          <path d="M64.6 512c0 195.6 125.4 361.9 300.1 422.9 23.5 5.9 19.9-10.8 19.9-22.2v-77.6c-135.8 15.9-141.3-74-150.5-89-18.5-31.5-61.9-39.5-49-54.5 31-15.9 62.5 4 98.9 58 26.4 39.1 77.9 32.5 104.1 26 5.7-23.5 17.9-44.5 34.7-60.9-140.7-25.2-199.4-111.1-199.4-213.3 0-49.5 16.4-95.1 48.4-131.8-20.4-60.6 1.9-112.4 4.9-120.1 58.2-5.2 118.5 41.6 123.3 45.3 33.1-8.9 70.8-13.7 112.9-13.7 42.4 0 80.3 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.4-43.9 2.9 7.7 24.7 58.3 5.5 118.1 32.5 36.8 49 82.8 49 132.4 0 102.3-59 188.3-200.2 213.2 23.5 23.3 38.1 55.5 38.1 91.1v112.7c0.8 9 0 17.9 15.1 17.9C832.7 877 960.4 709.4 960.4 512.1c0-247.5-200.6-447.9-447.9-447.9C265 64.1 64.6 264.5 64.6 512z"></path>
        </svg>
        

        

        

        

        
      </a>
    
  </div>
  

  <div class="colour-bar"></div>
  
  

  

  <p>
    Powered by
    <a href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a>
    Theme - 
    <a href="https://github.com/miiiku/hugo-theme-kagome" target="_blank" rel="noopener noreferrer author">kagome</a>
  </p>

  <p>
    <a href="javascript:;" id="theme-light">🌞 浅色</a>
    <a href="javascript:;" id="theme-dark">🌛 深色</a>
    <a href="javascript:;" id="theme-auto">🤖️ 自动</a>
  </p>
</footer>



<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>






</body>

</html>